{"pageProps":{"postData":{"_id":"5fb66af99f9e7f16fd324bf7","id":"fetch","crawlTimestamp":"19/11/2020 12:54:16","packageName":"fetch","description":"Fetch URL contents","repository":{"type":"git","url":"git://github.com/andris9/fetch.git"},"readme":"# fetch\n\nFetch url contents. Supports gzipped content for quicker download, redirects (with automatic cookie handling, so no eternal redirect loops), streaming and piping etc.\n\n[![Build Status](https://travis-ci.org/andris9/fetch.svg?branch=master)](https://travis-ci.org/andris9/fetch)\n\n## Install\n\n    npm install fetch\n\n## Usage\n\nSee examples folder for a complete example\n\n## Fetch from URL\n\n`fetch.fetchUrl(url [, options], callback)`\n\nWhere\n\n  * **url** is the url to fetch\n  * **options** is an optional options object\n  * **callback** is the callback to run - `callback(error, meta, body)`\n\nExample\n\n    var fetchUrl = require(\"fetch\").fetchUrl;\n\n    // source file is iso-8859-15 but it is converted to utf-8 automatically\n    fetchUrl(\"http://kreata.ee/iso-8859-15.php\", function(error, meta, body){\n        console.log(body.toString());\n    });\n\n**NB** If the file has been marked with charset other than utf-8, it is converted automatically.\n\nBy default `iconv-lite` is used for charset conversion. If you want to use `node-iconv` module instead,\nadd `\"iconv\": \"*\"` to your package.json file, it will be picked up by `fetch` automatically.\n\n## Streaming\n\n`fetch.FetchStream(url [, options]) -> Stream`\n\nWhere\n\n  * **url** is the url to fetch\n  * **options** is an optional options object\n\nWith events:\n\n  * **data** with a data chunk - `function(chunk){}`\n  * **meta** with some information about the response `function(meta){}`\n  * **end** when the receiving is ready\n  * **error**\n\nExample\n\n    var FetchStream = require(\"fetch\").FetchStream;\n\n    var fetch = new FetchStream(\"http://google.com\");\n\n    fetch.on(\"data\", function(chunk){\n        console.log(chunk);\n    });\n\n## Options\n\nPossible option values\n\n * **maxRedirects** how many redirects allowed, defaults to 10\n * **disableRedirects** set to true if redirects are not allowed, defaults to false\n * **headers** optional header fields, in the form of `{'Header-Field':'value'}`\n * **maxResponseLength** maximum allowd length for the file, the remainder is cut off. Defaults to `Infinity`\n * **method** defaults to GET\n * **payload** request body\n * **disableGzip** set to false, to disable content gzipping, needed for Node v0.5.9 which has buggy zlib\n * **cookies** an array of cookie definitions in the form of `['name=val']`\n * **cookieJar** for sharing cookies between requests, see below\n * **outputEncoding** valid for `fetchUrl`\n * **disableDecoding** valid for `fetchUrl`, set to true to disable automatic charset decoding to utf-8\n * **overrideCharset** valid for `fetchUrl`, set input encoding\n * **asyncDnsLoookup** use high performance asyncronous DNS resolution based on c-ares instead of a thread pool calling getaddrinfo(3)\n * **timeout** set a timeout in ms\n * **agentHttps** pass-through http.request agent parameter for https\n * **agentHttp** pass-through http.request agent parameter for http\n * **agent** pass-through http.request agent parameter as fallback, if agentHttps or agentHttp are not specified\n * **rejectUnauthorized** whether to reject self-signed certificates (`true`, default behavior), or ignore and allow them (`false`)\n\n\n## Meta object\n\nMeta object contains following fields:\n\n  * **status** HTTP status code\n  * **responseHeaders** response headers\n  * **finalUrl** last url value, useful with redirects\n  * **redirectCount** how many redirects happened\n  * **cookieJar** CookieJar object for sharing/retrieving cookies\n\n## Headers\n\nRequest headers can be set with `options.headers`\n\n    options = {\n        headers:{\n            \"X-My-Header\": \"This is a custom header field\"\n        }\n    }\n\n## User-Agent\nUser-Agent value can be set with `options.headers['User-Agent']` value. Defaults to `\"FetchStream\"`\n\n    options = {\n        headers: {\n            \"User-Agent\": \"MyUseragent/1.0\"\n        }\n    }\n\n## Cookies\nCookies can be set with `options.cookies` which takes an array with cookie definitions\n\n    options = {\n        cookie: [\"name=value\", \"key=value; path=/; secure\"]\n    }\n\nPaths, domain, expire and other cookie settings are honored, so try not to set cookies with expire dates in the past. If domain is not set, any domain will pass, same for paths.\n\n**NB** Do not set cookie field directly in request header as it will be overwritten.\n\n## Cookie sharing\n\nCookies can be shared between different requests, this can be achieved with `CookieJar`\n\n    var fetch = require(\"fetch\");\n\n    var cookies = new fetch.CookieJar();\n\n    // add one cookie for testing\n    cookies.setCookie('alfa=beta; path=/;');\n\n    // create a FetchStream with custom CookieJar\n    var f = fetch.FetchStream(\"http://www.example.com/page1\",{cookieJar: cookies});\n\n    f.on(\"end\", function(){\n        // if cookies were set with the previos request, the data is\n        // saved in 'cookieJar' and passed to the next request\n        fetch.FetchStream(\"http://www.example.com/page1\",{cookieJar: cookies});\n    });\n\n\n## Redirects\n\nRedirects are on by default, use `options.disableRedirects` to disable. Maximum redirect count can be set with `options.maxRedirects` (defaults to 10)\n\n    options = {\n        disableRedirects: true\n    }\n\n    options = {\n        maxRedirects: 100\n    }\n\n## Disable Gzip support\n\nGzip and Deflate support is automatically on. This is problematic in Node v0.5.9 and below since Zlib support on these versions is buggy with unpacking and tends to yield in error.\n\n    options = {\n        disableGzip: true\n    }\n\n## Piping to file\n\n`FetchStream` is a readable Stream object and thus can be piped. For example stream URL contents directly to a file:\n\n    var FetchStream = require(\"fetch\").FetchStream,\n        fs = require(\"fs\"),\n        out;\n\n    out = fs.createWriteStream('file.html');\n    new FetchStream(\"http://www.example.com/index.php\").pipe(out);\n\n## License\n\nBSD\n","homepage":"http://github.com/andris9/fetch","trustScore":19,"sourceRank":{"basic_info_present":1,"repository_present":1,"readme_present":1,"license_present":1,"versions_present":1,"follows_semver":1,"recent_release":0,"not_brand_new":1,"one_point_oh":1,"dependent_projects":6,"dependent_repositories":3,"stars":2,"contributors":1,"subscribers":0,"all_prereleases":0,"any_outdated_dependencies":-1,"is_deprecated":0,"is_unmaintained":0,"is_removed":0,"trustScore":19},"versions":[{"versionNumber":"0.1.0","timestamp":"2011-10-13T21:56:59.742Z","trustScore":9,"dependencies":[{"packageName":"iconv","version":"*"}]},{"versionNumber":"0.2.0","timestamp":"2011-10-14T13:08:58.477Z","trustScore":10,"dependencies":[{"packageName":"iconv","version":"*"}]},{"versionNumber":"0.2.1","timestamp":"2011-10-14T19:39:04.303Z","trustScore":8,"dependencies":[{"packageName":"iconv","version":"*"}]},{"versionNumber":"0.2.2","timestamp":"2011-10-15T05:46:20.904Z","trustScore":7,"dependencies":[{"packageName":"iconv","version":"*"}]},{"versionNumber":"0.2.3","timestamp":"2011-11-03T08:10:50.617Z","trustScore":9,"dependencies":[{"packageName":"iconv","version":"*"}]},{"versionNumber":"0.2.4","timestamp":"2011-11-09T19:40:01.433Z","trustScore":8,"dependencies":[{"packageName":"iconv","version":"*"}]},{"versionNumber":"0.2.5","timestamp":"2011-11-14T12:32:28.592Z","trustScore":9,"dependencies":[{"packageName":"iconv","version":"*"}]},{"versionNumber":"0.2.6","timestamp":"2011-12-27T14:59:04.286Z","trustScore":8,"dependencies":[{"packageName":"iconv","version":"*"}]},{"versionNumber":"0.2.7","timestamp":"2012-01-24T14:11:00.529Z","trustScore":9,"dependencies":[{"packageName":"iconv","version":"*"}]},{"versionNumber":"0.2.8","timestamp":"2012-07-31T12:21:44.716Z","trustScore":9,"dependencies":[{"packageName":"iconv","version":"*"}]},{"versionNumber":"0.2.9","timestamp":"2012-09-28T20:33:18.499Z","trustScore":8,"dependencies":[{"packageName":"iconv","version":"*"}]},{"versionNumber":"0.3.0","timestamp":"2013-01-12T10:32:40.294Z","trustScore":9,"dependencies":[{"packageName":"encoding","version":"*"}]},{"versionNumber":"0.3.1","timestamp":"2013-01-18T12:25:33.221Z","trustScore":9,"dependencies":[{"packageName":"encoding","version":"*"}]},{"versionNumber":"0.3.2","timestamp":"2013-08-13T07:51:37.771Z","trustScore":9,"dependencies":[{"packageName":"encoding","version":"*"}]},{"versionNumber":"0.3.3","timestamp":"2013-08-13T09:20:40.522Z","trustScore":9,"dependencies":[{"packageName":"encoding","version":"*"}]},{"versionNumber":"0.3.4","timestamp":"2013-09-06T08:01:12.501Z","trustScore":9,"dependencies":[{"packageName":"encoding","version":"*"}]},{"versionNumber":"0.3.5","timestamp":"2014-01-15T07:19:54.516Z","trustScore":9,"dependencies":[{"packageName":"encoding","version":"*"}]},{"versionNumber":"0.3.6","timestamp":"2014-01-15T07:55:51.113Z","trustScore":7,"dependencies":[{"packageName":"encoding","version":"*"}]},{"versionNumber":"1.0.0","timestamp":"2016-01-05T13:57:53.054Z","trustScore":10,"dependencies":[{"packageName":"biskviit","version":"1.0.1"},{"packageName":"encoding","version":"0.1.12"}]},{"versionNumber":"1.0.1","timestamp":"2016-02-11T14:39:13.519Z","trustScore":8,"dependencies":[{"packageName":"biskviit","version":"1.0.1"},{"packageName":"encoding","version":"0.1.12"}]},{"versionNumber":"1.1.0","timestamp":"2016-06-08T09:17:43.020Z","trustScore":19,"dependencies":[{"packageName":"biskviit","version":"1.0.1"},{"packageName":"encoding","version":"0.1.12"}]}]}},"__N_SSG":true}