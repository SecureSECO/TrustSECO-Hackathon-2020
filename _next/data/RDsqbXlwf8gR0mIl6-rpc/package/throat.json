{"pageProps":{"postData":{"_id":"5fb667319f9e7f16fd3248f1","id":"throat","crawlTimestamp":"19/11/2020 12:38:08","packageName":"throat","description":"Throttle the parallelism of an asynchronous (promise returning) function / functions","repository":{"type":"git","url":"git+https://github.com/ForbesLindesay/throat.git"},"readme":"# throat\n\nThrottle the parallelism of an asynchronous, promise returning, function / functions.  This has special utility when you set the concurrency to `1`.  That way you get a mutually exclusive lock.\n\n[Professionally supported throat is now available](https://tidelift.com/subscription/pkg/npm-throat?utm_source=npm-throat&utm_medium=referral&utm_campaign=readme)\n\n[![Build Status](https://img.shields.io/travis/ForbesLindesay/throat/master.svg)](https://travis-ci.org/ForbesLindesay/throat)\n[![Coverage Status](https://img.shields.io/coveralls/ForbesLindesay/throat/master.svg?style=flat)](https://coveralls.io/r/ForbesLindesay/throat?branch=master)\n[![Dependency Status](https://img.shields.io/david/ForbesLindesay/throat.svg)](https://david-dm.org/ForbesLindesay/throat)\n[![NPM version](https://img.shields.io/npm/v/throat.svg)](https://www.npmjs.com/package/throat)\n[![Greenkeeper badge](https://badges.greenkeeper.io/ForbesLindesay/throat.svg)](https://greenkeeper.io/)\n\n## Installation\n\n    npm install throat\n\n## API\n\n### throat(concurrency)\n\nThis returns a function that acts a bit like a lock (exactly as a lock if concurrency is 1).\n\nExample, only 2 of the following functions will execute at any one time:\n\n```js\nconst throat = require('throat')(2);\n// alternatively provide your own promise implementation\nconst throat = require('throat')(require('promise'))(2);\nconst promise = Promise.resolve();\n\nconst resA = throat(() => /* async stuff... */ promise);\nconst resB = throat(() => /* async stuff... */ promise);\nconst resC = throat(() => /* async stuff... */ promise);\nconst resD = throat(() => /* async stuff... */ promise);\nconst resE = throat(() => /* async stuff... */ promise);\n```\n\n### throat(concurrency, worker)\n\nThis returns a function that is an exact copy of `worker` except that it will only execute up to `concurrency` times in parallel before further requests are queued:\n\n```js\nconst throat = require('throat');\n// alternatively provide your own promise implementation\nconst throat = require('throat')(require('promise'));\n\nconst input = ['fileA.txt', 'fileB.txt', 'fileC.txt', 'fileD.txt'];\nconst data = Promise.all(input.map(throat(2, fileName => readFile(fileName))));\n```\n\nOnly 2 files will be read at a time, sometimes limiting parallelism in this way can improve scalability.\n\n## Security contact information\n\nTo report a security vulnerability, please use the [Tidelift security contact](https://tidelift.com/security). Tidelift will coordinate the fix and disclosure.\n\n## License\n\n  MIT\n","homepage":"https://github.com/ForbesLindesay/throat#readme","trustScore":22,"sourceRank":{"basic_info_present":1,"repository_present":1,"readme_present":1,"license_present":1,"versions_present":1,"follows_semver":1,"recent_release":0,"not_brand_new":1,"one_point_oh":1,"dependent_projects":4,"dependent_repositories":5,"stars":3,"contributors":1,"subscribers":1,"all_prereleases":0,"any_outdated_dependencies":0,"is_deprecated":0,"is_unmaintained":0,"is_removed":0,"trustScore":22},"versions":[{"versionNumber":"0.0.0","timestamp":"2012-12-23T00:17:11.379Z","trustScore":11,"dependencies":[{"packageName":"promises-a","version":"~2"}]},{"versionNumber":"1.0.0","timestamp":"2013-07-27T01:28:08.597Z","trustScore":10,"dependencies":[{"packageName":"promise","version":"~3.2.0"}]},{"versionNumber":"2.0.0","timestamp":"2015-02-14T11:40:40.469Z","trustScore":10,"dependencies":[]},{"versionNumber":"2.0.1","timestamp":"2015-02-14T12:55:25.270Z","trustScore":10,"dependencies":[]},{"versionNumber":"2.0.2","timestamp":"2015-02-16T09:39:45.954Z","trustScore":11,"dependencies":[]},{"versionNumber":"3.0.0","timestamp":"2016-06-01T10:43:48.228Z","trustScore":8,"dependencies":[]},{"versionNumber":"3.1.0","timestamp":"2017-06-04T19:30:57.963Z","trustScore":11,"dependencies":[{"packageName":"double-ended-queue","version":"^2.1.0-0"}]},{"versionNumber":"3.2.0","timestamp":"2017-06-13T13:04:50.148Z","trustScore":11,"dependencies":[]},{"versionNumber":"4.0.0","timestamp":"2017-06-20T10:06:37.243Z","trustScore":10,"dependencies":[]},{"versionNumber":"4.1.0","timestamp":"2017-07-07T00:01:52.628Z","trustScore":8,"dependencies":[]},{"versionNumber":"5.0.0","timestamp":"2019-05-24T14:34:04.404Z","trustScore":22,"dependencies":[]}]}},"__N_SSG":true}