{"pageProps":{"postData":{"_id":"5fb668f19f9e7f16fd324a56","id":"traverse","crawlTimestamp":"19/11/2020 12:45:36","packageName":"traverse","description":"traverse and transform objects by visiting every node on a recursive walk","repository":{"type":"git","url":"git://github.com/substack/js-traverse.git"},"readme":"# traverse\n\nTraverse and transform objects by visiting every node on a recursive walk.\n\n[![browser support](http://ci.testling.com/substack/js-traverse.png)](http://ci.testling.com/substack/js-traverse)\n\n[![build status](https://secure.travis-ci.org/substack/js-traverse.png)](http://travis-ci.org/substack/js-traverse)\n\n# examples\n\n## transform negative numbers in-place\n\nnegative.js\n\n````javascript\nvar traverse = require('traverse');\nvar obj = [ 5, 6, -3, [ 7, 8, -2, 1 ], { f : 10, g : -13 } ];\n\ntraverse(obj).forEach(function (x) {\n    if (x < 0) this.update(x + 128);\n});\n\nconsole.dir(obj);\n````\n\nOutput:\n\n    [ 5, 6, 125, [ 7, 8, 126, 1 ], { f: 10, g: 115 } ]\n\n## collect leaf nodes\n\nleaves.js\n\n````javascript\nvar traverse = require('traverse');\n\nvar obj = {\n    a : [1,2,3],\n    b : 4,\n    c : [5,6],\n    d : { e : [7,8], f : 9 },\n};\n\nvar leaves = traverse(obj).reduce(function (acc, x) {\n    if (this.isLeaf) acc.push(x);\n    return acc;\n}, []);\n\nconsole.dir(leaves);\n````\n\nOutput:\n\n    [ 1, 2, 3, 4, 5, 6, 7, 8, 9 ]\n\n## scrub circular references\n\nscrub.js:\n\n````javascript\nvar traverse = require('traverse');\n\nvar obj = { a : 1, b : 2, c : [ 3, 4 ] };\nobj.c.push(obj);\n\nvar scrubbed = traverse(obj).map(function (x) {\n    if (this.circular) this.remove()\n});\nconsole.dir(scrubbed);\n````\n\noutput:\n\n    { a: 1, b: 2, c: [ 3, 4 ] }\n\n# methods\n\nEach method that takes an `fn` uses the context documented below in the context\nsection.\n\n## .map(fn)\n\nExecute `fn` for each node in the object and return a new object with the\nresults of the walk. To update nodes in the result use `this.update(value)`.\n\n## .forEach(fn)\n\nExecute `fn` for each node in the object but unlike `.map()`, when\n`this.update()` is called it updates the object in-place.\n\n## .reduce(fn, acc)\n\nFor each node in the object, perform a\n[left-fold](http://en.wikipedia.org/wiki/Fold_(higher-order_function))\nwith the return value of `fn(acc, node)`.\n\nIf `acc` isn't specified, `acc` is set to the root object for the first step\nand the root element is skipped.\n\n## .paths()\n\nReturn an `Array` of every possible non-cyclic path in the object.\nPaths are `Array`s of string keys.\n\n## .nodes()\n\nReturn an `Array` of every node in the object.\n\n## .clone()\n\nCreate a deep clone of the object.\n\n## .get(path)\n\nGet the element at the array `path`.\n\n## .set(path, value)\n\nSet the element at the array `path` to `value`.\n\n## .has(path)\n\nReturn whether the element at the array `path` exists.\n\n# context\n\nEach method that takes a callback has a context (its `this` object) with these\nattributes:\n\n## this.node\n\nThe present node on the recursive walk\n\n## this.path\n\nAn array of string keys from the root to the present node\n\n## this.parent\n\nThe context of the node's parent.\nThis is `undefined` for the root node.\n\n## this.key\n\nThe name of the key of the present node in its parent.\nThis is `undefined` for the root node.\n\n## this.isRoot, this.notRoot\n\nWhether the present node is the root node\n\n## this.isLeaf, this.notLeaf\n\nWhether or not the present node is a leaf node (has no children)\n\n## this.level\n\nDepth of the node within the traversal\n\n## this.circular\n\nIf the node equals one of its parents, the `circular` attribute is set to the\ncontext of that parent and the traversal progresses no deeper.\n\n## this.update(value, stopHere=false)\n\nSet a new value for the present node.\n\nAll the elements in `value` will be recursively traversed unless `stopHere` is\ntrue.\n\n## this.remove(stopHere=false)\n\nRemove the current element from the output. If the node is in an Array it will\nbe spliced off. Otherwise it will be deleted from its parent.\n\n## this.delete(stopHere=false)\n\nDelete the current element from its parent in the output. Calls `delete` even on\nArrays.\n\n## this.before(fn)\n\nCall this function before any of the children are traversed.\n\nYou can assign into `this.keys` here to traverse in a custom order.\n\n## this.after(fn)\n\nCall this function after any of the children are traversed.\n\n## this.pre(fn)\n\nCall this function before each of the children are traversed.\n\n## this.post(fn)\n\nCall this function after each of the children are traversed.\n\n\n# install\n\nUsing [npm](http://npmjs.org) do:\n\n    $ npm install traverse\n\n# license\n\nMIT\n","homepage":"https://github.com/substack/js-traverse","trustScore":23,"sourceRank":{"basic_info_present":1,"repository_present":1,"readme_present":1,"license_present":1,"versions_present":1,"follows_semver":1,"recent_release":0,"not_brand_new":1,"one_point_oh":0,"dependent_projects":6,"dependent_repositories":5,"stars":3,"contributors":1,"subscribers":1,"all_prereleases":0,"any_outdated_dependencies":0,"is_deprecated":0,"is_unmaintained":0,"is_removed":0,"trustScore":23},"versions":[{"versionNumber":"0.1.2","timestamp":"2011-02-03T11:29:55.497Z","trustScore":11,"dependencies":[]},{"versionNumber":"0.1.3","timestamp":"2011-02-03T11:29:55.497Z","trustScore":9,"dependencies":[]},{"versionNumber":"0.2.0","timestamp":"2011-02-03T11:29:55.497Z","trustScore":10,"dependencies":[]},{"versionNumber":"0.2.1","timestamp":"2011-02-03T11:29:55.497Z","trustScore":10,"dependencies":[]},{"versionNumber":"0.2.2","timestamp":"2011-02-03T11:29:55.497Z","trustScore":10,"dependencies":[]},{"versionNumber":"0.2.3","timestamp":"2011-02-03T11:29:55.497Z","trustScore":10,"dependencies":[]},{"versionNumber":"0.2.4","timestamp":"2011-02-03T11:29:55.497Z","trustScore":10,"dependencies":[]},{"versionNumber":"0.3.0","timestamp":"2011-02-18T12:27:57.800Z","trustScore":9,"dependencies":[]},{"versionNumber":"0.3.1","timestamp":"2011-02-19T00:38:39.744Z","trustScore":11,"dependencies":[]},{"versionNumber":"0.2.5","timestamp":"2011-02-19T00:47:01.323Z","trustScore":10,"dependencies":[]},{"versionNumber":"0.2.6","timestamp":"2011-02-21T03:51:44.195Z","trustScore":13,"dependencies":[]},{"versionNumber":"0.3.2","timestamp":"2011-04-10T09:21:37.669Z","trustScore":11,"dependencies":[]},{"versionNumber":"0.3.3","timestamp":"2011-04-15T08:39:12.893Z","trustScore":9,"dependencies":[]},{"versionNumber":"0.3.4","timestamp":"2011-04-17T02:51:02.989Z","trustScore":10,"dependencies":[]},{"versionNumber":"0.3.5","timestamp":"2011-05-29T01:21:03.986Z","trustScore":10,"dependencies":[]},{"versionNumber":"0.3.6","timestamp":"2011-06-03T08:15:23.466Z","trustScore":10,"dependencies":[]},{"versionNumber":"0.3.7","timestamp":"2011-06-06T04:29:19.831Z","trustScore":11,"dependencies":[]},{"versionNumber":"0.3.8","timestamp":"2011-06-07T06:53:50.488Z","trustScore":12,"dependencies":[]},{"versionNumber":"0.4.0","timestamp":"2011-06-11T00:04:01.061Z","trustScore":9,"dependencies":[]},{"versionNumber":"0.4.1","timestamp":"2011-06-11T03:56:58.839Z","trustScore":9,"dependencies":[]},{"versionNumber":"0.4.2","timestamp":"2011-06-11T07:09:48.273Z","trustScore":11,"dependencies":[]},{"versionNumber":"0.3.9","timestamp":"2011-06-15T05:24:38.007Z","trustScore":11,"dependencies":[]},{"versionNumber":"0.4.3","timestamp":"2011-06-15T05:28:21.739Z","trustScore":11,"dependencies":[]},{"versionNumber":"0.4.4","timestamp":"2011-07-20T10:02:05.346Z","trustScore":10,"dependencies":[]},{"versionNumber":"0.4.5","timestamp":"2011-07-24T22:53:13.891Z","trustScore":11,"dependencies":[]},{"versionNumber":"0.4.6","timestamp":"2011-07-28T06:19:05.356Z","trustScore":9,"dependencies":[]},{"versionNumber":"0.5.0","timestamp":"2011-08-23T12:51:28.029Z","trustScore":10,"dependencies":[]},{"versionNumber":"0.5.1","timestamp":"2011-08-23T13:26:49.780Z","trustScore":10,"dependencies":[]},{"versionNumber":"0.5.2","timestamp":"2011-10-16T10:34:56.862Z","trustScore":10,"dependencies":[]},{"versionNumber":"0.6.0","timestamp":"2012-02-21T02:42:17.711Z","trustScore":10,"dependencies":[]},{"versionNumber":"0.6.1","timestamp":"2012-04-07T05:31:38.268Z","trustScore":9,"dependencies":[]},{"versionNumber":"0.6.2","timestamp":"2012-06-16T07:48:32.652Z","trustScore":9,"dependencies":[]},{"versionNumber":"0.6.3","timestamp":"2012-06-19T02:44:09.239Z","trustScore":10,"dependencies":[]},{"versionNumber":"0.6.5","timestamp":"2013-08-30T21:55:35.238Z","trustScore":11,"dependencies":[]},{"versionNumber":"0.6.6","timestamp":"2013-09-24T05:13:48.593Z","trustScore":23,"dependencies":[]}]}},"__N_SSG":true}