{"pageProps":{"postData":{"_id":"5fb66ba49f9e7f16fd324c75","id":"line-column","crawlTimestamp":"19/11/2020 12:57:06","packageName":"line-column","description":"Convert efficiently index to/from line-column in a string","repository":{"type":"git","url":"git+https://github.com/io-monad/line-column.git"},"readme":"# line-column\n\n[![Build Status](https://travis-ci.org/io-monad/line-column.svg?branch=master)](https://travis-ci.org/io-monad/line-column) [![Coverage Status](https://coveralls.io/repos/github/io-monad/line-column/badge.svg?branch=master)](https://coveralls.io/github/io-monad/line-column?branch=master) [![npm version](https://badge.fury.io/js/line-column.svg)](https://badge.fury.io/js/line-column)\n\nNode module to convert efficiently index to/from line-column in a string.\n\n## Install\n\n    npm install line-column\n\n## Usage\n\n### lineColumn(str, options = {})\n\nReturns a `LineColumnFinder` instance for given string `str`.\n\n#### Options\n\n| Key     | Description | Default |\n| ------- | ----------- | ------- |\n| `origin`  | The origin value of line number and column number | `1` |\n\n### lineColumn(str, index)\n\nThis is just a shorthand for `lineColumn(str).fromIndex(index)`.\n\n### LineColumnFinder#fromIndex(index)\n\nFind line and column from index in the string.\n\nParameters:\n\n- `index` - `number` Index in the string. (0-origin)\n\nReturns:\n\n- `{ line: x, col: y }` Found line number and column number.\n- `null` if the given index is out of range.\n\n### LineColumnFinder#toIndex(line, column)\n\nFind index from line and column in the string.\n\nParameters:\n\n- `line` - `number` Line number in the string.\n- `column` - `number` Column number in the string.\n\nor\n\n- `{ line: x, col: y }` - `Object` line and column numbers in the string.<br>A key name `column` can be used instead of `col`.\n\nor\n\n- `[ line, col ]` - `Array` line and column numbers in the string.\n\nReturns:\n\n- `number` Found index in the string.\n- `-1` if the given line or column is out of range.\n\n## Example\n\n```js\nvar lineColumn = require(\"line-column\");\n\nvar testString = [\n  \"ABCDEFG\\n\",         // line:0, index:0\n  \"HIJKLMNOPQRSTU\\n\",  // line:1, index:8\n  \"VWXYZ\\n\",           // line:2, index:23\n  \"日本語の文字\\n\",    // line:3, index:29\n  \"English words\"      // line:4, index:36\n].join(\"\");            // length:49\n\nlineColumn(testString).fromIndex(3)   // { line: 1, col: 4 }\nlineColumn(testString).fromIndex(33)  // { line: 4, col: 5 }\nlineColumn(testString).toIndex(1, 4)  // 3\nlineColumn(testString).toIndex(4, 5)  // 33\n\n// Shorthand of .fromIndex (compatible with find-line-column)\nlineColumn(testString, 33)            // { line:4, col: 5 }\n\n// Object or Array is also acceptable\nlineColumn(testString).toIndex({ line: 4, col: 5 })     // 33\nlineColumn(testString).toIndex({ line: 4, column: 5 })  // 33\nlineColumn(testString).toIndex([4, 5])                  // 33\n\n// You can cache it for the same string. It is so efficient. (See benchmark)\nvar finder = lineColumn(testString);\n\nfinder.fromIndex(33)     // { line: 4, column: 5 }\nfinder.toIndex(4, 5)     // 33\n\n// For 0-origin line and column numbers\nvar oneOrigin = lineColumn(testString, { origin: 0 });\n\noneOrigin.fromIndex(33)  // { line: 3, column: 4 }\noneOrigin.toIndex(3, 4)  // 33\n```\n\n## Testing\n\n    npm test\n\n## Benchmark\n\nThe popular package [find-line-column](https://www.npmjs.com/package/find-line-column) provides the same \"index to line-column\" feature.\n\nHere is some benchmarking on `line-column` vs `find-line-column`. You can run this benchmark by `npm run benchmark`. See [benchmark/](benchmark/) for the source code.\n\n```\nlong text  + line-column (not cached) x     72,989 ops/sec ±0.83% (89 runs sampled)\nlong text  + line-column (cached)     x 13,074,242 ops/sec ±0.32% (89 runs sampled)\nlong text  + find-line-column         x     33,887 ops/sec ±0.54% (84 runs sampled)\nshort text + line-column (not cached) x  1,636,766 ops/sec ±0.77% (82 runs sampled)\nshort text + line-column (cached)     x 21,699,686 ops/sec ±1.04% (82 runs sampled)\nshort text + find-line-column         x    382,145 ops/sec ±1.04% (85 runs sampled)\n```\n\nAs you might have noticed, even not cached version of `line-column` is 2x - 4x faster than `find-line-column`, and cached version of `line-column` is remarkable 50x - 380x faster.\n\n## Contributing\n\n1. Fork it!\n2. Create your feature branch: `git checkout -b my-new-feature`\n3. Commit your changes: `git commit -am 'Add some feature'`\n4. Push to the branch: `git push origin my-new-feature`\n5. Submit a pull request :D\n\n## License\n\nMIT (See LICENSE)\n","homepage":"https://github.com/io-monad/line-column","trustScore":12,"sourceRank":{"basic_info_present":1,"repository_present":1,"readme_present":1,"license_present":1,"versions_present":1,"follows_semver":1,"recent_release":0,"not_brand_new":1,"one_point_oh":1,"dependent_projects":2,"dependent_repositories":2,"stars":0,"contributors":0,"subscribers":1,"all_prereleases":0,"any_outdated_dependencies":-1,"is_deprecated":0,"is_unmaintained":0,"is_removed":0,"trustScore":12},"versions":[{"versionNumber":"1.0.0","timestamp":"2016-03-25T03:44:06.242Z","trustScore":6,"dependencies":[{"packageName":"isarray","version":"^1.0.0"},{"packageName":"isobject","version":"^2.0.0"}]},{"versionNumber":"1.0.1","timestamp":"2016-03-25T04:12:03.525Z","trustScore":5,"dependencies":[{"packageName":"isarray","version":"^1.0.0"},{"packageName":"isobject","version":"^2.0.0"}]},{"versionNumber":"1.0.2","timestamp":"2016-03-26T01:56:03.714Z","trustScore":12,"dependencies":[{"packageName":"isarray","version":"^1.0.0"},{"packageName":"isobject","version":"^2.0.0"}]}]}},"__N_SSG":true}