{"pageProps":{"postData":{"_id":"5fb66ab59f9e7f16fd324bc5","id":"esformatter-collapse-objects","crawlTimestamp":"19/11/2020 12:53:08","packageName":"esformatter-collapse-objects","description":"esformatter plugin: conditionally collapses objects and array literals","repository":{"type":"git","url":"git+https://github.com/wbinnssmith/esformatter-collapse-objects.git"},"readme":"# esformatter-collapse-objects\n\n[esformatter](https://github.com/millermedeiros/esformatter) plugin for\nconditionally collapsing object and array literals.\n\n## Features\n* Conditionally formats literals on a single line, while leaving others expanded\n* Respects your original esformatter whitespace settings\n* Conditions include a **max line-length**, a **max number of keys/elements** in the literal,\n  a **max depth** of the literal (when it contains other objects or arrays), or when\n  it contains complex expressions like inline function expressions.\n\n\n## Usage\n\ninstall it:\n\n```sh\nnpm install esformatter-collapse-objects\n```\n\nand something like this to your esformatter config file:\n\n```json\n{\n  \"plugins\": [\n    \"esformatter-collapse-objects\"\n  ]\n}\n```\n\n### Important: Update your esformatter config\n\nThis plugin works by relying on esformatter expanding the relevant expressions,\nand conditionally collapsing them back down to a single line. Therefore, you\nneed to have esformatter expand them in the first place (esformatter defaults to\nexpanding object literals, but not array literals).\n\nAdd the following to your esformatter config when collapsing arrays:\n\n```json\n\"lineBreak\": {\n  \"before\": {\n    \"ArrayExpressionClosing\": 1\n  },\n  \"after\": {\n    \"ArrayExpressionOpening\": 1,\n    \"ArrayExpressionComma\": 1\n  }\n},\n```\n\nSince expressions were collapsed, you might be surprised that some appear as\n`{a:b,c:d}`. This is because esformatter defaults are tuned toward expanded\nexpressions. Try merging the following into your config for whitespace before\neach property in an object:\n\n```json\n{\n  \"whiteSpace\": {\n    \"before\": {\n      \"PropertyName\": 1\n    }\n}\n```\n\n## Options\n\nThe following is the default configuration for the plugin, which can be reproduced\nand modified in your .esformatter config:\n\n```json\n\n{\n  \"collapseObjects\": {\n    \"ObjectExpression\": {\n      \"maxLineLength\": 80,\n      \"maxKeys\": 3,\n      \"maxDepth\": 2,\n      \"forbidden\": [\n        \"FunctionExpression\"\n      ]\n    },\n    \"ArrayExpression\": {\n      \"maxLineLength\": 80,\n      \"maxKeys\": 3,\n      \"maxDepth\": 2,\n      \"forbidden\": [\n        \"FunctionExpression\"\n      ]\n    }\n  }\n}\n\n```\n\nOptions map esprima AST Node types (in this case both ObjectExpression and\nArrayExpression) to their respective options, just like indentation in\nesformatter.\n\n__Set either expression's value to `-1` to opt out of collapsing those nodes.__\n\n### maxLineLength (int)\nIf the literal exceeds a certain number of columns collapsed, it will *not* be collapsed.\n\n\nUse a `maxLineLength` of `-1` to ignore this option.\n\n### forbidden (Array)\nYou can also avoid collapsing literals under certain conditions\nlike a maximum number of keys, or when they contain other nodes like\nFunctionExpression.\n\n```js\n[function foo() { return 'bar' }]\n```\n\nfor example, could never occur since FunctionExpression is forbidden when\ntrying to collapse a literal if this is set.\n\n\nUse a `forbidden` of `[]` to ignore this option.\n\n### maxDepth (int)\nYou can also limit the depth of nested literals. All literals begin at a depth\nof 1, and *for performance reasons setting a maxDepth of greater than 3 is\nignored*. For example, `{foo: { bar: 'baz' }}` has a depth of two and would be\ncollapsed if the maxDepth is 2 or greater.\n\n\nUse a `maxDepth` of `-1` to opt out of this functionality.\n\n## JavaScript API\n\nRegister the plugin and call esformatter like so:\n\n```js\n// register plugin\nesformatter.register(require('esformatter-collapse-objects'));\n// pass options as second argument\nvar output = esformatter.format(str, options);\n```\n\n## License\n\nReleased under the [MIT License](http://opensource.org/licenses/MIT).\n\n## Credits\n\nHuge thanks to JÃ¶rn Zaefferer, who published [an MIT-licensed gist](https://gist.github.com/jzaefferer/23bef744ffea751b2668)\nwhich serves as the foundation for this module.\n","homepage":"https://github.com/wbinnssmith/esformatter-collapse-objects","trustScore":11,"sourceRank":{"basic_info_present":1,"repository_present":1,"readme_present":1,"license_present":1,"versions_present":1,"follows_semver":1,"recent_release":0,"not_brand_new":1,"one_point_oh":0,"dependent_projects":2,"dependent_repositories":2,"stars":1,"contributors":0,"subscribers":0,"all_prereleases":0,"any_outdated_dependencies":-1,"is_deprecated":0,"is_unmaintained":0,"is_removed":0,"trustScore":11},"versions":[{"versionNumber":"0.1.0","timestamp":"2015-03-30T06:07:29.996Z","trustScore":5,"dependencies":[{"packageName":"defaults-deep","version":"^0.2.1"},{"packageName":"rocambole","version":"^0.5.1"},{"packageName":"rocambole-token","version":"^1.2.1"}]},{"versionNumber":"0.2.0","timestamp":"2015-04-22T17:55:58.475Z","trustScore":4,"dependencies":[{"packageName":"defaults-deep","version":"^0.2.1"},{"packageName":"rocambole","version":"^0.5.1"},{"packageName":"rocambole-token","version":"^1.2.1"},{"packageName":"rocambole-whitespace","version":"^1.0.0"}]},{"versionNumber":"0.3.0","timestamp":"2015-04-23T22:40:44.546Z","trustScore":5,"dependencies":[{"packageName":"defaults-deep","version":"^0.2.1"},{"packageName":"rocambole","version":"^0.5.1"},{"packageName":"rocambole-token","version":"^1.2.1"},{"packageName":"rocambole-whitespace","version":"^1.0.0"}]},{"versionNumber":"0.4.0","timestamp":"2015-04-24T06:24:34.528Z","trustScore":4,"dependencies":[{"packageName":"defaults-deep","version":"^0.2.1"},{"packageName":"rocambole","version":"^0.5.1"},{"packageName":"rocambole-token","version":"^1.2.1"},{"packageName":"rocambole-whitespace","version":"^1.0.0"}]},{"versionNumber":"0.4.1","timestamp":"2015-06-08T22:45:09.288Z","trustScore":4,"dependencies":[{"packageName":"defaults-deep","version":"^0.2.1"},{"packageName":"rocambole","version":"^0.5.1"},{"packageName":"rocambole-token","version":"^1.2.1"},{"packageName":"rocambole-whitespace","version":"^1.0.0"}]},{"versionNumber":"0.5.0","timestamp":"2015-09-19T02:30:48.505Z","trustScore":5,"dependencies":[{"packageName":"defaults-deep","version":"^0.2.1"},{"packageName":"rocambole","version":"^0.5.1"},{"packageName":"rocambole-token","version":"^1.2.1"},{"packageName":"rocambole-whitespace","version":"^1.0.0"}]},{"versionNumber":"0.5.1","timestamp":"2015-09-26T05:42:28.073Z","trustScore":11,"dependencies":[{"packageName":"defaults-deep","version":"^0.2.1"},{"packageName":"rocambole","version":"^0.5.1"},{"packageName":"rocambole-token","version":"^1.2.1"},{"packageName":"rocambole-whitespace","version":"^1.0.0"}]}]}},"__N_SSG":true}