{"pageProps":{"postData":{"_id":"5fb6656c9f9e7f16fd324788","id":"onetime","crawlTimestamp":"19/11/2020 12:30:29","packageName":"onetime","description":"Ensure a function is only called once","repository":{"type":"git","url":"git+https://github.com/sindresorhus/onetime.git"},"readme":"# onetime [![Build Status](https://travis-ci.com/sindresorhus/onetime.svg?branch=master)](https://travis-ci.com/github/sindresorhus/onetime)\n\n> Ensure a function is only called once\n\nWhen called multiple times it will return the return value from the first call.\n\n*Unlike the module [once](https://github.com/isaacs/once), this one isn't naughty and extending `Function.prototype`.*\n\n## Install\n\n```\n$ npm install onetime\n```\n\n## Usage\n\n```js\nconst onetime = require('onetime');\n\nlet i = 0;\n\nconst foo = onetime(() => ++i);\n\nfoo(); //=> 1\nfoo(); //=> 1\nfoo(); //=> 1\n\nonetime.callCount(foo); //=> 3\n```\n\n```js\nconst onetime = require('onetime');\n\nconst foo = onetime(() => {}, {throw: true});\n\nfoo();\n\nfoo();\n//=> Error: Function `foo` can only be called once\n```\n\n## API\n\n### onetime(fn, options?)\n\nReturns a function that only calls `fn` once.\n\n#### fn\n\nType: `Function`\n\nFunction that should only be called once.\n\n#### options\n\nType: `object`\n\n##### throw\n\nType: `boolean`\\\nDefault: `false`\n\nThrow an error when called more than once.\n\n### onetime.callCount(fn)\n\nReturns a number representing how many times `fn` has been called.\n\nNote: It throws an error if you pass in a function that is not wrapped by `onetime`.\n\n```js\nconst onetime = require('onetime');\n\nconst foo = onetime(() => {});\n\nfoo();\nfoo();\nfoo();\n\nconsole.log(onetime.callCount(foo));\n//=> 3\n```\n\n#### fn\n\nType: `Function`\n\nFunction to get call count from.\n\n## onetime for enterprise\n\nAvailable as part of the Tidelift Subscription.\n\nThe maintainers of onetime and thousands of other packages are working with Tidelift to deliver commercial support and maintenance for the open source dependencies you use to build your applications. Save time, reduce risk, and improve code health, while paying the maintainers of the exact dependencies you use. [Learn more.](https://tidelift.com/subscription/pkg/npm-onetime?utm_source=npm-onetime&utm_medium=referral&utm_campaign=enterprise&utm_term=repo)\n","homepage":"https://github.com/sindresorhus/onetime#readme","trustScore":23,"sourceRank":{"basic_info_present":1,"repository_present":1,"readme_present":1,"license_present":1,"versions_present":1,"follows_semver":1,"recent_release":1,"not_brand_new":1,"one_point_oh":1,"dependent_projects":4,"dependent_repositories":6,"stars":2,"contributors":1,"subscribers":2,"all_prereleases":0,"any_outdated_dependencies":-1,"is_deprecated":0,"is_unmaintained":0,"is_removed":0,"trustScore":23},"versions":[{"versionNumber":"0.1.0","timestamp":"2013-12-13T21:20:18.951Z","trustScore":11,"dependencies":[]},{"versionNumber":"0.1.1","timestamp":"2014-04-30T22:39:14.004Z","trustScore":9,"dependencies":[]},{"versionNumber":"1.0.0","timestamp":"2014-08-13T17:03:51.426Z","trustScore":10,"dependencies":[]},{"versionNumber":"1.1.0","timestamp":"2015-12-18T00:30:55.390Z","trustScore":11,"dependencies":[]},{"versionNumber":"2.0.0","timestamp":"2016-10-19T18:41:56.004Z","trustScore":10,"dependencies":[{"packageName":"mimic-fn","version":"^1.0.0"}]},{"versionNumber":"2.0.1","timestamp":"2017-03-20T03:24:17.619Z","trustScore":10,"dependencies":[{"packageName":"mimic-fn","version":"^1.0.0"}]},{"versionNumber":"3.0.0","timestamp":"2019-01-20T15:38:13.275Z","trustScore":10,"dependencies":[{"packageName":"mimic-fn","version":"^1.0.0"}]},{"versionNumber":"4.0.0","timestamp":"2019-03-01T09:15:21.375Z","trustScore":11,"dependencies":[{"packageName":"mimic-fn","version":"^1.0.0"}]},{"versionNumber":"5.0.0","timestamp":"2019-03-08T05:58:33.472Z","trustScore":10,"dependencies":[{"packageName":"mimic-fn","version":"^2.0.0"}]},{"versionNumber":"5.1.0","timestamp":"2019-04-02T02:39:48.168Z","trustScore":11,"dependencies":[{"packageName":"mimic-fn","version":"^2.1.0"}]},{"versionNumber":"5.1.1","timestamp":"2020-08-02T10:28:50.856Z","trustScore":18,"dependencies":[{"packageName":"mimic-fn","version":"^2.1.0"}]},{"versionNumber":"5.1.2","timestamp":"2020-08-09T20:29:04.963Z","trustScore":23,"dependencies":[{"packageName":"mimic-fn","version":"^2.1.0"}]}]}},"__N_SSG":true}