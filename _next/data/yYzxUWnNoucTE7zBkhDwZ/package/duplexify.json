{"pageProps":{"postData":{"_id":"5fb66bb19f9e7f16fd324c7e","id":"duplexify","crawlTimestamp":"19/11/2020 12:57:20","packageName":"duplexify","description":"Turn a writable and readable stream into a streams2 duplex stream with support for async initialization and streams1/streams2 input","repository":{"type":"git","url":"git://github.com/mafintosh/duplexify.git"},"readme":"# duplexify\n\nTurn a writeable and readable stream into a single streams2 duplex stream.\n\nSimilar to [duplexer2](https://github.com/deoxxa/duplexer2) except it supports both streams2 and streams1 as input\nand it allows you to set the readable and writable part asynchronously using `setReadable(stream)` and `setWritable(stream)`\n\n```\nnpm install duplexify\n```\n\n[![build status](http://img.shields.io/travis/mafintosh/duplexify.svg?style=flat)](http://travis-ci.org/mafintosh/duplexify)\n\n## Usage\n\nUse `duplexify(writable, readable, streamOptions)` (or `duplexify.obj(writable, readable)` to create an object stream)\n\n``` js\nvar duplexify = require('duplexify')\n\n// turn writableStream and readableStream into a single duplex stream\nvar dup = duplexify(writableStream, readableStream)\n\ndup.write('hello world') // will write to writableStream\ndup.on('data', function(data) {\n  // will read from readableStream\n})\n```\n\nYou can also set the readable and writable parts asynchronously\n\n``` js\nvar dup = duplexify()\n\ndup.write('hello world') // write will buffer until the writable\n                         // part has been set\n\n// wait a bit ...\ndup.setReadable(readableStream)\n\n// maybe wait some more?\ndup.setWritable(writableStream)\n```\n\nIf you call `setReadable` or `setWritable` multiple times it will unregister the previous readable/writable stream.\nTo disable the readable or writable part call `setReadable` or `setWritable` with `null`.\n\nIf the readable or writable streams emits an error or close it will destroy both streams and bubble up the event.\nYou can also explicitly destroy the streams by calling `dup.destroy()`. The `destroy` method optionally takes an\nerror object as argument, in which case the error is emitted as part of the `error` event.\n\n``` js\ndup.on('error', function(err) {\n  console.log('readable or writable emitted an error - close will follow')\n})\n\ndup.on('close', function() {\n  console.log('the duplex stream is destroyed')\n})\n\ndup.destroy() // calls destroy on the readable and writable part (if present)\n```\n\n## HTTP request example\n\nTurn a node core http request into a duplex stream is as easy as\n\n``` js\nvar duplexify = require('duplexify')\nvar http = require('http')\n\nvar request = function(opts) {\n  var req = http.request(opts)\n  var dup = duplexify(req)\n  req.on('response', function(res) {\n    dup.setReadable(res)\n  })\n  return dup\n}\n\nvar req = request({\n  method: 'GET',\n  host: 'www.google.com',\n  port: 80\n})\n\nreq.end()\nreq.pipe(process.stdout)\n```\n\n## License\n\nMIT\n\n## Related\n\n`duplexify` is part of the [mississippi stream utility collection](https://github.com/maxogden/mississippi) which includes more useful stream modules similar to this one.\n","homepage":"https://github.com/mafintosh/duplexify","trustScore":25,"sourceRank":{"basic_info_present":1,"repository_present":1,"readme_present":1,"license_present":1,"versions_present":1,"follows_semver":1,"recent_release":0,"not_brand_new":1,"one_point_oh":1,"dependent_projects":6,"dependent_repositories":6,"stars":2,"contributors":1,"subscribers":2,"all_prereleases":0,"any_outdated_dependencies":0,"is_deprecated":0,"is_unmaintained":0,"is_removed":0,"trustScore":25},"versions":[{"versionNumber":"1.0.0","timestamp":"2014-07-07T16:47:19.676Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"0.1.5"}]},{"versionNumber":"1.1.0","timestamp":"2014-07-07T21:25:52.700Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"0.1.5"}]},{"versionNumber":"1.2.0","timestamp":"2014-07-12T21:36:58.044Z","trustScore":12,"dependencies":[{"packageName":"end-of-stream","version":"0.1.5"}]},{"versionNumber":"1.2.1","timestamp":"2014-07-12T21:43:23.864Z","trustScore":12,"dependencies":[{"packageName":"end-of-stream","version":"0.1.5"}]},{"versionNumber":"1.3.0","timestamp":"2014-07-13T12:45:52.832Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"0.1.5"}]},{"versionNumber":"1.4.0","timestamp":"2014-07-13T12:51:01.328Z","trustScore":13,"dependencies":[{"packageName":"end-of-stream","version":"0.1.5"}]},{"versionNumber":"1.5.0","timestamp":"2014-07-21T12:14:20.057Z","trustScore":12,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"}]},{"versionNumber":"1.5.1","timestamp":"2014-07-21T12:25:30.267Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"}]},{"versionNumber":"1.5.2","timestamp":"2014-07-22T18:33:42.615Z","trustScore":10,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"}]},{"versionNumber":"1.5.3","timestamp":"2014-07-22T21:44:56.410Z","trustScore":12,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"}]},{"versionNumber":"2.0.0","timestamp":"2014-07-23T00:02:46.284Z","trustScore":10,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"}]},{"versionNumber":"3.0.0","timestamp":"2014-07-23T13:09:09.259Z","trustScore":12,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"}]},{"versionNumber":"3.0.1","timestamp":"2014-07-25T19:09:30.423Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"}]},{"versionNumber":"3.1.0","timestamp":"2014-08-07T20:20:01.206Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"}]},{"versionNumber":"3.1.1","timestamp":"2014-08-15T23:09:36.697Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"}]},{"versionNumber":"3.1.2","timestamp":"2014-08-15T23:24:01.925Z","trustScore":12,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"}]},{"versionNumber":"3.1.3","timestamp":"2014-08-19T07:45:04.328Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"},{"packageName":"readable-stream","version":"^1.0.27-1"}]},{"versionNumber":"3.2.0","timestamp":"2014-08-30T15:55:02.423Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"},{"packageName":"readable-stream","version":"^1.0.27-1"}]},{"versionNumber":"3.3.0","timestamp":"2015-04-14T19:05:01.297Z","trustScore":12,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"},{"packageName":"readable-stream","version":"^1.0.27-1"}]},{"versionNumber":"3.4.0","timestamp":"2015-05-17T09:09:41.271Z","trustScore":12,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"},{"packageName":"readable-stream","version":"^1.1.13"}]},{"versionNumber":"3.4.1","timestamp":"2015-05-27T14:47:16.097Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"},{"packageName":"readable-stream","version":"^1.1.13"}]},{"versionNumber":"3.4.2","timestamp":"2015-06-15T04:47:04.104Z","trustScore":12,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"},{"packageName":"readable-stream","version":"^2.0.0"}]},{"versionNumber":"3.4.3","timestamp":"2016-02-23T16:06:25.764Z","trustScore":12,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"},{"packageName":"inherits","version":"^2.0.1"},{"packageName":"readable-stream","version":"^2.0.0"}]},{"versionNumber":"3.4.4","timestamp":"2016-07-08T20:47:01.044Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"},{"packageName":"inherits","version":"^2.0.1"},{"packageName":"readable-stream","version":"^2.0.0"}]},{"versionNumber":"3.4.5","timestamp":"2016-07-08T21:04:32.777Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"},{"packageName":"inherits","version":"^2.0.1"},{"packageName":"readable-stream","version":"^2.0.0"},{"packageName":"stream-shift","version":"^1.0.0"}]},{"versionNumber":"3.4.6","timestamp":"2016-10-18T15:35:01.402Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"},{"packageName":"inherits","version":"^2.0.1"},{"packageName":"readable-stream","version":"^2.0.0"},{"packageName":"stream-shift","version":"^1.0.0"}]},{"versionNumber":"3.5.0","timestamp":"2016-10-24T13:57:29.954Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"1.0.0"},{"packageName":"inherits","version":"^2.0.1"},{"packageName":"readable-stream","version":"^2.0.0"},{"packageName":"stream-shift","version":"^1.0.0"}]},{"versionNumber":"3.5.1","timestamp":"2017-08-01T20:44:06.446Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"^1.0.0"},{"packageName":"inherits","version":"^2.0.1"},{"packageName":"readable-stream","version":"^2.0.0"},{"packageName":"stream-shift","version":"^1.0.0"}]},{"versionNumber":"3.5.2","timestamp":"2018-01-10T16:02:43.335Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"^1.0.0"},{"packageName":"inherits","version":"^2.0.1"},{"packageName":"readable-stream","version":"^2.0.0"},{"packageName":"stream-shift","version":"^1.0.0"}]},{"versionNumber":"3.5.3","timestamp":"2018-01-10T16:14:29.938Z","trustScore":10,"dependencies":[{"packageName":"end-of-stream","version":"^1.0.0"},{"packageName":"inherits","version":"^2.0.1"},{"packageName":"readable-stream","version":"^2.0.0"},{"packageName":"stream-shift","version":"^1.0.0"}]},{"versionNumber":"3.5.4","timestamp":"2018-03-02T13:34:47.313Z","trustScore":12,"dependencies":[{"packageName":"end-of-stream","version":"^1.0.0"},{"packageName":"inherits","version":"^2.0.1"},{"packageName":"readable-stream","version":"^2.0.0"},{"packageName":"stream-shift","version":"^1.0.0"}]},{"versionNumber":"3.6.0","timestamp":"2018-05-04T10:32:23.233Z","trustScore":12,"dependencies":[{"packageName":"end-of-stream","version":"^1.0.0"},{"packageName":"inherits","version":"^2.0.1"},{"packageName":"readable-stream","version":"^2.0.0"},{"packageName":"stream-shift","version":"^1.0.0"}]},{"versionNumber":"3.6.1","timestamp":"2018-10-13T22:00:59.151Z","trustScore":13,"dependencies":[{"packageName":"end-of-stream","version":"^1.0.0"},{"packageName":"inherits","version":"^2.0.1"},{"packageName":"readable-stream","version":"^2.0.0"},{"packageName":"stream-shift","version":"^1.0.0"}]},{"versionNumber":"3.7.0","timestamp":"2019-02-04T09:16:19.916Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"^1.4.1"},{"packageName":"inherits","version":"^2.0.3"},{"packageName":"readable-stream","version":"^3.1.1"},{"packageName":"stream-shift","version":"^1.0.0"}]},{"versionNumber":"3.7.1","timestamp":"2019-02-04T16:37:23.968Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"^1.0.0"},{"packageName":"inherits","version":"^2.0.1"},{"packageName":"readable-stream","version":"^2.0.0"},{"packageName":"stream-shift","version":"^1.0.0"}]},{"versionNumber":"4.0.0","timestamp":"2019-02-04T16:38:13.795Z","trustScore":10,"dependencies":[{"packageName":"end-of-stream","version":"^1.4.1"},{"packageName":"inherits","version":"^2.0.3"},{"packageName":"readable-stream","version":"^3.1.1"},{"packageName":"stream-shift","version":"^1.0.0"}]},{"versionNumber":"4.1.0","timestamp":"2019-06-11T11:24:04.564Z","trustScore":11,"dependencies":[{"packageName":"end-of-stream","version":"^1.4.1"},{"packageName":"inherits","version":"^2.0.3"},{"packageName":"readable-stream","version":"^3.1.1"},{"packageName":"stream-shift","version":"^1.0.0"}]},{"versionNumber":"4.1.1","timestamp":"2019-06-12T20:12:34.752Z","trustScore":25,"dependencies":[{"packageName":"end-of-stream","version":"^1.4.1"},{"packageName":"inherits","version":"^2.0.3"},{"packageName":"readable-stream","version":"^3.1.1"},{"packageName":"stream-shift","version":"^1.0.0"}]}]}},"__N_SSG":true}