{"pageProps":{"postData":{"_id":"5fb06818a28b82fef5a67ab4","id":"events-to-array","crawlTimestamp":"14/11/2020 23:28:23","packageName":"events-to-array","description":"Put a bunch of emitted events in an array, for testing.","repository":{"type":"git","url":"git+https://github.com/isaacs/events-to-array.git"},"readme":"# events-to-array\n\nPut a bunch of emitted events in an array, for testing.\n\nIf any of the emitted arguments are event emitters, then they'll also\nbe tracked, and replaced in the array with their tracking array.\n(This is less confusing in practice than it sounds in text, see\nbelow.)  The only caveat is that the events in the child event emitter\nand in the parent are not preserved in order, so this lib doesn't tell\nyou whether the child events happened before or after any subsequent\nparent events.\n\n## USAGE\n\n```\nvar assert = require('assert')\nvar EE = require('events')\nvar etoa = require('events-to-array')\nvar emitter = new EE()\nvar array = etoa(emitter)\n\nemitter.emit('foo', 1, 2, 3)\nemitter.emit('bar', { x: 1 })\n\n// nested events get tracked as well\nvar subemit = new EE()\nemitter.emit('sub', subemit)\nsubemit.emit('childEvent', { some: 'data' })\nsubemit.emit('anotherone', { some: 'data' }, 'many', 'args')\n\n// CAVEAT!  See above in the wordy part of this readme.\n// Note that the blaz/blorrg event comes after the child, and there's\n// no way to know that the child 'order not preserved' event happened\n// after.\nemitter.emit('blaz', 'blorrg')\nsubemit.emit('order', 'not', 'preserved between child and parent')\n\n// check out the array whenever\nassert.deepEqual(array,\n[ [ 'foo', 1, 2, 3 ],\n  [ 'bar', { x: 1 } ],\n  [ 'sub',\n    [ [ 'childEvent', { some: 'data' } ],\n      [ 'anotherone', { some: 'data' }, 'many', 'args' ],\n      [ 'order', 'not', 'preserved between child and parent' ] ] ],\n  [ 'blaz', 'blorrg' ] ])\n```\n\n## `eventsToArray(emitter, [ignoreList], [mapFunction])`\n\nReturns an array with all the events emitted by the emitter.\n\nIt's your responsibility to know when to check it for the events that\nyou expected to have received.\n\nThe `ignoreList` is an array of event names to ignore.\n\nThe `mapFunction` is a function that takes a list of arguments and\nreturns a potentially-mutated array of arguments.  Note that child\nevent emitters will already have been swapped out for an\nevents-to-array list so that nested events are caught.\n\nThis is handy, for example, for swapping out large `Buffer` objects\nwith something like `{type: 'buffer', length: 123456}` rather than\nblow up the JSON fixtures.\n\nThe map function is called on the args list as `map(arg, index, list)`\n","homepage":"https://github.com/isaacs/events-to-array","trustScore":16,"sourceRank":{"basic_info_present":1,"repository_present":1,"readme_present":1,"license_present":1,"versions_present":1,"follows_semver":1,"recent_release":0,"not_brand_new":1,"one_point_oh":1,"dependent_projects":2,"dependent_repositories":4,"stars":1,"contributors":0,"subscribers":1,"all_prereleases":0,"any_outdated_dependencies":0,"is_deprecated":0,"is_unmaintained":0,"is_removed":0,"trustScore":16},"versions":[{"versionNumber":"1.0.0","timestamp":"2015-03-02T21:48:24.658Z","trustScore":16,"dependencies":[]},{"versionNumber":"1.0.1","timestamp":"2015-03-02T21:49:28.356Z","trustScore":15,"dependencies":[]},{"versionNumber":"1.0.2","timestamp":"2015-03-12T00:57:10.137Z","trustScore":17,"dependencies":[]},{"versionNumber":"1.1.2","timestamp":"2017-04-10T18:28:46.586Z","trustScore":16,"dependencies":[]}]}},"__N_SSG":true}