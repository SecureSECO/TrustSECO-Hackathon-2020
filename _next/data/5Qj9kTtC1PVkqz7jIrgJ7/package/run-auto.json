{"pageProps":{"postData":{"_id":"5fb66a0e9f9e7f16fd324b3d","id":"run-auto","crawlTimestamp":"19/11/2020 12:50:21","packageName":"run-auto","description":"Determine the best order for running async functions, and run them","repository":{"type":"git","url":"git://github.com/feross/run-auto.git"},"readme":"# run-auto [![travis][travis-image]][travis-url] [![npm][npm-image]][npm-url] [![downloads][downloads-image]][downloads-url] [![javascript style guide][standard-image]][standard-url]\n\n[travis-image]: https://img.shields.io/travis/feross/run-auto/master.svg\n[travis-url]: https://travis-ci.org/feross/run-auto\n[npm-image]: https://img.shields.io/npm/v/run-auto.svg\n[npm-url]: https://npmjs.org/package/run-auto\n[downloads-image]: https://img.shields.io/npm/dm/run-auto.svg\n[downloads-url]: https://npmjs.org/package/run-auto\n[standard-image]: https://img.shields.io/badge/code_style-standard-brightgreen.svg\n[standard-url]: https://standardjs.com\n\n#### Determine the best order for running async functions, ***LIKE MAGIC!***\n\n![auto](https://raw.githubusercontent.com/feross/run-auto/master/img.png) [![Sauce Test Status](https://saucelabs.com/browser-matrix/run-auto.svg)](https://saucelabs.com/u/run-auto)\n\n### install\n\n```\nnpm install run-auto\n```\n\n### usage\n\n#### auto(tasks, [callback])\n\nDetermines the best order for running the functions in `tasks`, based on their\nrequirements. Each function can optionally depend on other functions being completed\nfirst, and each function is run as soon as its requirements are satisfied.\n\nIf any of the functions pass an error to their callback, the `auto` sequence will\nstop. Further tasks will not execute (so any other functions depending on it will\nnot run), and the main `callback` is immediately called with the error.\n\nFunctions also receive an object containing the results of functions which have\ncompleted so far as the first argument, if they have dependencies. If a task\nfunction has no dependencies, it will only be passed a callback.\n\n##### arguments\n\n- `tasks` - An object. Each of its properties is either a function or an array of requirements, with the function itself the last item in the array. The object's key of a property serves as the name of the task defined by that property, i.e. can be used when specifying requirements for other tasks. The function receives one or two arguments:\n  - a `results` object, containing the results of the previously executed functions, only passed if the task has any dependencies, **Argument order changed in 2.0**\n  - a `callback(err, result)` function, which must be called when finished, passing an `error` (which can be `null`) and the result of the function's execution. **Argument order changed in 2.0**\n- `callback(err, results)` - An optional callback which is called when all the tasks have been completed. It receives the `err` argument if any `tasks` pass an error to their callback. Results are always returned; however, if an error occurs, no further `tasks` will be performed, and the results object will only contain partial results.\n\n##### example\n\n```js\nvar auto = require('run-auto')\n\nauto({\n  getData: function (callback) {\n    console.log('in getData')\n    // async code to get some data\n    callback(null, 'data', 'converted to array')\n  },\n  makeFolder: function (callback) {\n    console.log('in makeFolder')\n    // async code to create a directory to store a file in\n    // this is run at the same time as getting the data\n    callback(null, 'folder')\n  },\n  writeFile: ['getData', 'makeFolder', function (results, callback) {\n    console.log('in writeFile', JSON.stringify(results))\n    // once there is some data and the directory exists,\n    // write the data to a file in the directory\n    callback(null, 'filename')\n  }],\n  emailLink: ['writeFile', function (results, callback) {\n    console.log('in emailLink', JSON.stringify(results))\n    // once the file is written let's email a link to it...\n    // results.writeFile contains the filename returned by writeFile.\n    callback(null, { file: results.writeFile, email: 'user@example.com' })\n  }]\n}, function(err, results) {\n  console.log('err = ', err)\n  console.log('results = ', results)\n})\n```\n\n#### usage note\n\nNote, all functions are called with a `results` object as a second argument, so it is\nunsafe to pass functions in the` tasks` object which cannot handle the extra argument.\n\nFor example, this snippet of code:\n\n```js\nauto({\n  readData: async.apply(fs.readFile, 'data.txt', 'utf-8')\n}, callback)\n```\n\nwill have the effect of calling `readFile` with the results object as the last argument,\nwhich will fail, like this:\n\n```js\nfs.readFile('data.txt', 'utf-8', cb, {})\n```\n\nInstead, wrap the call to `readFile` in a function which does not forward the `results`\nobject:\n\n```js\nauto({\n  readData: function (cb, results) {\n    fs.readFile('data.txt', 'utf-8', cb)\n  }\n}, callback)\n```\n\nThis module is basically equavalent to\n[`async.auto`](https://github.com/caolan/async#autotasks-callback), but it's\nhandy to just have the one function you need instead of the kitchen sink. Modularity!\nEspecially handy if you're serving to the browser and need to reduce your javascript\nbundle size.\n\nWorks great in the browser with [browserify](http://browserify.org/)!\n\n### see also\n\n- [run-parallel](https://github.com/feross/run-parallel)\n- [run-parallel-limit](https://github.com/feross/run-parallel-limit)\n- [run-series](https://github.com/feross/run-series)\n- [run-waterfall](https://github.com/feross/run-waterfall)\n\n### license\n\nMIT. Copyright (c) [Feross Aboukhadijeh](http://feross.org).\n\nImage credit: Wizard Hat designed by Andrew Fortnum\n","homepage":"https://github.com/feross/run-auto","trustScore":17,"sourceRank":{"basic_info_present":1,"repository_present":1,"readme_present":1,"license_present":1,"versions_present":1,"follows_semver":1,"recent_release":1,"not_brand_new":1,"one_point_oh":1,"dependent_projects":2,"dependent_repositories":3,"stars":2,"contributors":1,"subscribers":0,"all_prereleases":0,"any_outdated_dependencies":0,"is_deprecated":0,"is_unmaintained":0,"is_removed":0,"trustScore":17},"versions":[{"versionNumber":"0.1.0","timestamp":"2014-04-14T02:39:42.879Z","trustScore":8,"dependencies":[]},{"versionNumber":"1.0.0","timestamp":"2014-04-29T10:20:58.519Z","trustScore":8,"dependencies":[]},{"versionNumber":"1.1.0","timestamp":"2015-03-20T00:49:32.489Z","trustScore":7,"dependencies":[{"packageName":"dezalgo","version":"^1.0.1"}]},{"versionNumber":"1.1.1","timestamp":"2015-03-23T22:00:58.599Z","trustScore":8,"dependencies":[{"packageName":"dezalgo","version":"^1.0.1"}]},{"versionNumber":"1.1.2","timestamp":"2015-05-05T00:54:57.102Z","trustScore":7,"dependencies":[{"packageName":"dezalgo","version":"^1.0.1"}]},{"versionNumber":"1.1.3","timestamp":"2015-06-24T07:43:43.709Z","trustScore":9,"dependencies":[{"packageName":"dezalgo","version":"^1.0.1"}]},{"versionNumber":"2.0.0","timestamp":"2016-05-18T02:41:40.855Z","trustScore":7,"dependencies":[{"packageName":"dezalgo","version":"^1.0.1"}]},{"versionNumber":"2.0.1","timestamp":"2018-03-15T18:16:00.916Z","trustScore":8,"dependencies":[{"packageName":"dezalgo","version":"^1.0.1"}]},{"versionNumber":"2.0.2","timestamp":"2018-04-26T01:05:33.663Z","trustScore":7,"dependencies":[{"packageName":"dezalgo","version":"^1.0.1"}]},{"versionNumber":"2.0.3","timestamp":"2018-04-26T01:08:14.702Z","trustScore":7,"dependencies":[{"packageName":"dezalgo","version":"^1.0.1"}]},{"versionNumber":"2.0.4","timestamp":"2020-10-27T03:35:37.965Z","trustScore":17,"dependencies":[{"packageName":"dezalgo","version":"^1.0.3"}]}]}},"__N_SSG":true}