{"pageProps":{"postData":{"_id":"5fb66b989f9e7f16fd324c6c","id":"flush-write-stream","crawlTimestamp":"19/11/2020 12:56:54","packageName":"flush-write-stream","description":"A write stream constructor that supports a flush function that is called before finish is emitted","repository":{"type":"git","url":"git+https://github.com/mafintosh/flush-write-stream.git"},"readme":"# flush-write-stream\n\nA write stream constructor that supports a flush function that is called before `finish` is emitted\n\n```\nnpm install flush-write-stream\n```\n\n[![build status](http://img.shields.io/travis/mafintosh/flush-write-stream.svg?style=flat)](http://travis-ci.org/mafintosh/flush-write-stream)\n\n## Usage\n\n``` js\nvar writer = require('flush-write-stream')\n\nvar ws = writer(write, flush)\n\nws.on('finish', function () {\n  console.log('finished')\n})\n\nws.write('hello')\nws.write('world')\nws.end()\n\nfunction write (data, enc, cb) {\n  // i am your normal ._write method\n  console.log('writing', data.toString())\n  cb()\n}\n\nfunction flush (cb) {\n  // i am called before finish is emitted\n  setTimeout(cb, 1000) // wait 1 sec\n}\n```\n\nIf you run the above it will produce the following output\n\n```\nwriting hello\nwriting world\n(nothing happens for 1 sec)\nfinished\n```\n\n## API\n\n#### `var ws = writer([options], write, [flush])`\n\nCreate a new writable stream. Options are forwarded to the stream constructor.\n\n#### `var ws = writer.obj([options], write, [flush])`\n\nSame as the above except `objectMode` is set to `true` per default.\n\n## License\n\nMIT\n","homepage":"https://github.com/mafintosh/flush-write-stream","trustScore":22,"sourceRank":{"basic_info_present":1,"repository_present":1,"readme_present":1,"license_present":1,"versions_present":1,"follows_semver":1,"recent_release":0,"not_brand_new":1,"one_point_oh":1,"dependent_projects":4,"dependent_repositories":5,"stars":2,"contributors":1,"subscribers":2,"all_prereleases":0,"any_outdated_dependencies":0,"is_deprecated":0,"is_unmaintained":0,"is_removed":0,"trustScore":22},"versions":[{"versionNumber":"1.0.0","timestamp":"2015-11-06T21:57:03.152Z","trustScore":10,"dependencies":[{"packageName":"readable-stream","version":"^2.0.4"}]},{"versionNumber":"1.0.1","timestamp":"2016-10-16T10:42:32.651Z","trustScore":10,"dependencies":[{"packageName":"readable-stream","version":"^2.0.4"}]},{"versionNumber":"1.0.2","timestamp":"2016-10-16T10:46:49.463Z","trustScore":9,"dependencies":[{"packageName":"inherits","version":"^2.0.1"},{"packageName":"readable-stream","version":"^2.0.4"}]},{"versionNumber":"1.0.3","timestamp":"2018-03-21T11:49:21.221Z","trustScore":9,"dependencies":[{"packageName":"inherits","version":"^2.0.1"},{"packageName":"readable-stream","version":"^2.0.4"}]},{"versionNumber":"1.1.0","timestamp":"2019-02-04T09:18:32.074Z","trustScore":10,"dependencies":[{"packageName":"inherits","version":"^2.0.3"},{"packageName":"readable-stream","version":"^3.1.1"}]},{"versionNumber":"1.1.1","timestamp":"2019-02-08T11:30:25.188Z","trustScore":10,"dependencies":[{"packageName":"inherits","version":"^2.0.3"},{"packageName":"readable-stream","version":"^2.3.6"}]},{"versionNumber":"2.0.0","timestamp":"2019-02-08T11:31:03.031Z","trustScore":22,"dependencies":[{"packageName":"inherits","version":"^2.0.3"},{"packageName":"readable-stream","version":"^3.1.1"}]}]}},"__N_SSG":true}