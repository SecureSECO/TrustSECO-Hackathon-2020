<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>TrustSECO</title><link rel="icon" href="/favicon.ico"/><link rel="preload" href="/TrustSECO/_next/static/css/dd46eff8b0fa29b7c6a1.css" as="style"/><link rel="stylesheet" href="/TrustSECO/_next/static/css/dd46eff8b0fa29b7c6a1.css" data-n-g=""/><link rel="preload" href="/TrustSECO/_next/static/css/9e26edf5045646c35bf5.css" as="style"/><link rel="stylesheet" href="/TrustSECO/_next/static/css/9e26edf5045646c35bf5.css" data-n-p=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/TrustSECO/_next/static/chunks/main-06c1dcca274dd3ebd367.js" as="script"/><link rel="preload" href="/TrustSECO/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/TrustSECO/_next/static/chunks/framework.490e6e89fb7343c23de5.js" as="script"/><link rel="preload" href="/TrustSECO/_next/static/chunks/commons.e12371422b04e39d225f.js" as="script"/><link rel="preload" href="/TrustSECO/_next/static/chunks/pages/_app-6332075865a73fbac0f6.js" as="script"/><link rel="preload" href="/TrustSECO/_next/static/chunks/20d867a918a78c19a392d2ab3562d7e5efc3a8e7.e3a755023b7ad5b0d7e2.js" as="script"/><link rel="preload" href="/TrustSECO/_next/static/chunks/pages/package/%5Bid%5D-6e5289d6e1b7a09361a1.js" as="script"/></head><body><div id="__next"><div class="Home_wrapper__3EDsh"><div class="Home_container__1EcsU"><div class="container"><div class="Home_content__2fqOz row"><a href="/TrustSECO"><h2>TrustSECO</h2></a><div offset="2" class="Home_contentInside__3OhO7 col-md-10 offset-md-1"><main class="Home_main__1x8gC"><div class="row"><div class="col-md-8"><div class="card"><div class="card-header">graceful-fs</div><div class="card-body"><div class="card-subtitle h6">A drop-in replacement for fs, making various improvements.</div><p class="card-text">Repository:<!-- --> <a href="git+https://github.com/isaacs/node-graceful-fs.git">git+https://github.com/isaacs/node-graceful-fs.git</a></p></div></div></div></div><div class="row"><div class="col-md-12"></div></div></main></div></div></div></div><footer class="footer_footer__1tNtI"><div class="footer_footer-content__2FMz9"><div class="col-md-3"><div class="footer_footer-slogan__ppYfy"><h4>TrustSECO 2020</h4><p>A project by <a href="https://secureseco.org">SecureSECO</a></p></div></div><div class="col-md-3"><h4>Links</h4><ul><li><a href="https://github.com/SecureSECO/TrustSECO">Github</a></li><li><a href="https://twitter.com/SecoTrust">Twitter</a></li><li><a href="https://www.linkedin.com/company/trustseco">LinkeIn</a></li></ul></div><div class="col-md-3"></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"_id":"5fb05c2077b543d8a4c7df84","id":"graceful-fs","crawlTimestamp":"14/11/2020 22:37:19","packageName":"graceful-fs","description":"A drop-in replacement for fs, making various improvements.","repository":{"type":"git","url":"git+https://github.com/isaacs/node-graceful-fs.git"},"readme":"# graceful-fs\n\ngraceful-fs functions as a drop-in replacement for the fs module,\nmaking various improvements.\n\nThe improvements are meant to normalize behavior across different\nplatforms and environments, and to make filesystem access more\nresilient to errors.\n\n## Improvements over [fs module](https://nodejs.org/api/fs.html)\n\n* Queues up `open` and `readdir` calls, and retries them once\n  something closes if there is an EMFILE error from too many file\n  descriptors.\n* fixes `lchmod` for Node versions prior to 0.6.2.\n* implements `fs.lutimes` if possible. Otherwise it becomes a noop.\n* ignores `EINVAL` and `EPERM` errors in `chown`, `fchown` or\n  `lchown` if the user isn't root.\n* makes `lchmod` and `lchown` become noops, if not available.\n* retries reading a file if `read` results in EAGAIN error.\n\nOn Windows, it retries renaming a file for up to one second if `EACCESS`\nor `EPERM` error occurs, likely because antivirus software has locked\nthe directory.\n\n## USAGE\n\n```javascript\n// use just like fs\nvar fs = require('graceful-fs')\n\n// now go and do stuff with it...\nfs.readFileSync('some-file-or-whatever')\n```\n\n## Global Patching\n\nIf you want to patch the global fs module (or any other fs-like\nmodule) you can do this:\n\n```javascript\n// Make sure to read the caveat below.\nvar realFs = require('fs')\nvar gracefulFs = require('graceful-fs')\ngracefulFs.gracefulify(realFs)\n```\n\nThis should only ever be done at the top-level application layer, in\norder to delay on EMFILE errors from any fs-using dependencies.  You\nshould **not** do this in a library, because it can cause unexpected\ndelays in other parts of the program.\n\n## Changes\n\nThis module is fairly stable at this point, and used by a lot of\nthings.  That being said, because it implements a subtle behavior\nchange in a core part of the node API, even modest changes can be\nextremely breaking, and the versioning is thus biased towards\nbumping the major when in doubt.\n\nThe main change between major versions has been switching between\nproviding a fully-patched `fs` module vs monkey-patching the node core\nbuiltin, and the approach by which a non-monkey-patched `fs` was\ncreated.\n\nThe goal is to trade `EMFILE` errors for slower fs operations.  So, if\nyou try to open a zillion files, rather than crashing, `open`\noperations will be queued up and wait for something else to `close`.\n\nThere are advantages to each approach.  Monkey-patching the fs means\nthat no `EMFILE` errors can possibly occur anywhere in your\napplication, because everything is using the same core `fs` module,\nwhich is patched.  However, it can also obviously cause undesirable\nside-effects, especially if the module is loaded multiple times.\n\nImplementing a separate-but-identical patched `fs` module is more\nsurgical (and doesn't run the risk of patching multiple times), but\nalso imposes the challenge of keeping in sync with the core module.\n\nThe current approach loads the `fs` module, and then creates a\nlookalike object that has all the same methods, except a few that are\npatched.  It is safe to use in all versions of Node from 0.8 through\n7.0.\n\n### v4\n\n* Do not monkey-patch the fs module.  This module may now be used as a\n  drop-in dep, and users can opt into monkey-patching the fs builtin\n  if their app requires it.\n\n### v3\n\n* Monkey-patch fs, because the eval approach no longer works on recent\n  node.\n* fixed possible type-error throw if rename fails on windows\n* verify that we *never* get EMFILE errors\n* Ignore ENOSYS from chmod/chown\n* clarify that graceful-fs must be used as a drop-in\n\n### v2.1.0\n\n* Use eval rather than monkey-patching fs.\n* readdir: Always sort the results\n* win32: requeue a file if error has an OK status\n\n### v2.0\n\n* A return to monkey patching\n* wrap process.cwd\n\n### v1.1\n\n* wrap readFile\n* Wrap fs.writeFile.\n* readdir protection\n* Don't clobber the fs builtin\n* Handle fs.read EAGAIN errors by trying again\n* Expose the curOpen counter\n* No-op lchown/lchmod if not implemented\n* fs.rename patch only for win32\n* Patch fs.rename to handle AV software on Windows\n* Close #4 Chown should not fail on einval or eperm if non-root\n* Fix isaacs/fstream#1 Only wrap fs one time\n* Fix #3 Start at 1024 max files, then back off on EMFILE\n* lutimes that doens't blow up on Linux\n* A full on-rewrite using a queue instead of just swallowing the EMFILE error\n* Wrap Read/Write streams as well\n\n### 1.0\n\n* Update engines for node 0.6\n* Be lstat-graceful on Windows\n* first\n","homepage":"https://github.com/isaacs/node-graceful-fs#readme","trustScore":26,"sourceRank":{"basic_info_present":1,"repository_present":1,"readme_present":1,"license_present":1,"versions_present":1,"follows_semver":1,"recent_release":0,"not_brand_new":1,"one_point_oh":1,"dependent_projects":6,"dependent_repositories":6,"stars":3,"contributors":1,"subscribers":2,"all_prereleases":0,"any_outdated_dependencies":0,"is_deprecated":0,"is_unmaintained":0,"is_removed":0,"trustScore":26},"versions":[{"versionNumber":"1.0.0","timestamp":"2011-07-20T08:49:38.481Z","trustScore":24,"dependencies":[]},{"versionNumber":"1.0.1","timestamp":"2011-09-25T00:33:29.942Z","trustScore":24,"dependencies":[]},{"versionNumber":"1.0.2","timestamp":"2011-11-18T21:15:46.607Z","trustScore":24,"dependencies":[]},{"versionNumber":"1.1.0","timestamp":"2011-11-23T00:45:14.407Z","trustScore":26,"dependencies":[{"packageName":"fast-list","version":"1"}]},{"versionNumber":"1.1.1","timestamp":"2011-11-28T23:32:21.075Z","trustScore":25,"dependencies":[{"packageName":"fast-list","version":"1"}]},{"versionNumber":"1.1.2","timestamp":"2011-12-03T02:27:37.810Z","trustScore":22,"dependencies":[{"packageName":"fast-list","version":"1"}]},{"versionNumber":"1.1.3","timestamp":"2012-01-19T01:10:19.961Z","trustScore":27,"dependencies":[{"packageName":"fast-list","version":"1"}]},{"versionNumber":"1.1.4","timestamp":"2012-01-19T18:09:15.746Z","trustScore":24,"dependencies":[{"packageName":"fast-list","version":"1"}]},{"versionNumber":"1.1.5","timestamp":"2012-01-23T22:27:39.609Z","trustScore":23,"dependencies":[{"packageName":"fast-list","version":"1"}]},{"versionNumber":"1.1.6","timestamp":"2012-03-20T01:26:15.355Z","trustScore":26,"dependencies":[]},{"versionNumber":"1.1.7","timestamp":"2012-03-21T21:06:58.684Z","trustScore":25,"dependencies":[]},{"versionNumber":"1.1.8","timestamp":"2012-03-22T23:20:47.942Z","trustScore":26,"dependencies":[]},{"versionNumber":"1.1.9","timestamp":"2012-07-11T23:10:33.354Z","trustScore":28,"dependencies":[]},{"versionNumber":"1.1.10","timestamp":"2012-07-28T17:24:47.924Z","trustScore":27,"dependencies":[]},{"versionNumber":"1.1.11","timestamp":"2012-09-18T22:15:39.397Z","trustScore":26,"dependencies":[]},{"versionNumber":"1.1.12","timestamp":"2012-09-18T23:12:22.368Z","trustScore":32,"dependencies":[{"packageName":"mkdirp","version":"~0.3.4"}]},{"versionNumber":"1.1.13","timestamp":"2012-09-18T23:16:11.936Z","trustScore":28,"dependencies":[]},{"versionNumber":"1.1.14","timestamp":"2012-09-20T18:15:05.948Z","trustScore":26,"dependencies":[]},{"versionNumber":"1.2.0","timestamp":"2013-02-06T00:01:39.344Z","trustScore":25,"dependencies":[]},{"versionNumber":"1.2.1","timestamp":"2013-04-30T17:07:10.366Z","trustScore":26,"dependencies":[]},{"versionNumber":"1.2.2","timestamp":"2013-06-12T17:30:47.695Z","trustScore":27,"dependencies":[]},{"versionNumber":"1.2.3","timestamp":"2013-07-10T07:46:03.989Z","trustScore":24,"dependencies":[]},{"versionNumber":"2.0.0","timestamp":"2013-07-11T07:10:06.790Z","trustScore":29,"dependencies":[]},{"versionNumber":"2.0.1","timestamp":"2013-09-07T19:18:04.406Z","trustScore":26,"dependencies":[]},{"versionNumber":"2.0.2","timestamp":"2014-02-17T02:28:44.378Z","trustScore":27,"dependencies":[]},{"versionNumber":"2.0.3","timestamp":"2014-03-20T00:33:06.873Z","trustScore":22,"dependencies":[]},{"versionNumber":"3.0.0","timestamp":"2014-06-02T01:48:19.789Z","trustScore":23,"dependencies":[]},{"versionNumber":"3.0.1","timestamp":"2014-06-07T18:25:22.953Z","trustScore":25,"dependencies":[]},{"versionNumber":"3.0.2","timestamp":"2014-06-10T22:55:51.714Z","trustScore":30,"dependencies":[]},{"versionNumber":"3.0.3","timestamp":"2014-10-06T17:53:52.206Z","trustScore":30,"dependencies":[]},{"versionNumber":"3.0.4","timestamp":"2014-10-14T20:07:54.353Z","trustScore":24,"dependencies":[]},{"versionNumber":"3.0.5","timestamp":"2014-11-30T17:55:06.342Z","trustScore":28,"dependencies":[]},{"versionNumber":"3.0.6","timestamp":"2015-03-11T21:28:56.029Z","trustScore":25,"dependencies":[]},{"versionNumber":"3.0.7","timestamp":"2015-05-19T01:38:26.785Z","trustScore":28,"dependencies":[]},{"versionNumber":"3.0.8","timestamp":"2015-06-01T05:08:03.513Z","trustScore":24,"dependencies":[]},{"versionNumber":"4.1.0","timestamp":"2015-06-27T18:52:45.921Z","trustScore":24,"dependencies":[]},{"versionNumber":"4.1.1","timestamp":"2015-06-27T20:08:27.668Z","trustScore":29,"dependencies":[]},{"versionNumber":"4.1.2","timestamp":"2015-06-27T20:25:15.466Z","trustScore":27,"dependencies":[]},{"versionNumber":"4.1.3","timestamp":"2016-02-02T21:42:07.205Z","trustScore":27,"dependencies":[]},{"versionNumber":"4.1.4","timestamp":"2016-05-05T19:00:55.342Z","trustScore":28,"dependencies":[]},{"versionNumber":"4.1.5","timestamp":"2016-07-26T18:47:23.305Z","trustScore":25,"dependencies":[]},{"versionNumber":"3.0.9","timestamp":"2016-08-13T02:49:15.525Z","trustScore":26,"dependencies":[]},{"versionNumber":"4.1.6","timestamp":"2016-08-19T14:18:40.593Z","trustScore":24,"dependencies":[]},{"versionNumber":"3.0.10","timestamp":"2016-08-23T00:56:24.703Z","trustScore":24,"dependencies":[{"packageName":"natives","version":"^1.0.1"}]},{"versionNumber":"3.0.11","timestamp":"2016-08-30T19:01:55.423Z","trustScore":23,"dependencies":[{"packageName":"natives","version":"^1.1.0"}]},{"versionNumber":"4.1.7","timestamp":"2016-09-26T21:38:40.693Z","trustScore":25,"dependencies":[]},{"versionNumber":"4.1.8","timestamp":"2016-09-26T22:06:42.295Z","trustScore":22,"dependencies":[]},{"versionNumber":"4.1.9","timestamp":"2016-09-28T23:01:12.248Z","trustScore":24,"dependencies":[]},{"versionNumber":"4.1.10","timestamp":"2016-11-02T22:55:55.356Z","trustScore":24,"dependencies":[]},{"versionNumber":"4.1.11","timestamp":"2016-11-22T19:30:31.252Z","trustScore":24,"dependencies":[]},{"versionNumber":"4.1.12","timestamp":"2018-11-02T20:52:27.707Z","trustScore":28,"dependencies":[]},{"versionNumber":"4.1.13","timestamp":"2018-11-02T21:28:15.709Z","trustScore":24,"dependencies":[]},{"versionNumber":"4.1.14","timestamp":"2018-11-02T23:18:33.348Z","trustScore":26,"dependencies":[]},{"versionNumber":"4.1.15","timestamp":"2018-11-04T20:51:54.752Z","trustScore":26,"dependencies":[]},{"versionNumber":"4.2.0","timestamp":"2019-06-26T19:39:25.253Z","trustScore":26,"dependencies":[]},{"versionNumber":"4.2.1","timestamp":"2019-08-04T06:04:41.125Z","trustScore":23,"dependencies":[]},{"versionNumber":"3.0.12","timestamp":"2019-08-13T23:57:29.792Z","trustScore":24,"dependencies":[{"packageName":"natives","version":"^1.1.3"}]},{"versionNumber":"4.2.2","timestamp":"2019-08-14T05:32:08.671Z","trustScore":26,"dependencies":[]},{"versionNumber":"4.2.3","timestamp":"2019-10-23T22:53:06.088Z","trustScore":24,"dependencies":[]},{"versionNumber":"4.2.4","timestamp":"2020-04-28T15:14:10.455Z","trustScore":21,"dependencies":[]}]}},"__N_SSG":true},"page":"/package/[id]","query":{"id":"graceful-fs"},"buildId":"JWBl7eXXc9chLuNJUzACg","assetPrefix":"/TrustSECO","nextExport":false,"isFallback":false,"gsp":true,"head":[["meta",{"name":"viewport","content":"width=device-width"}],["meta",{"charSet":"utf-8"}],["title",{"children":"TrustSECO"}],["link",{"rel":"icon","href":"/favicon.ico"}]]}</script><script nomodule="" src="/TrustSECO/_next/static/chunks/polyfills-11c8eba6a84e3fddec04.js"></script><script src="/TrustSECO/_next/static/chunks/main-06c1dcca274dd3ebd367.js" async=""></script><script src="/TrustSECO/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/TrustSECO/_next/static/chunks/framework.490e6e89fb7343c23de5.js" async=""></script><script src="/TrustSECO/_next/static/chunks/commons.e12371422b04e39d225f.js" async=""></script><script src="/TrustSECO/_next/static/chunks/pages/_app-6332075865a73fbac0f6.js" async=""></script><script src="/TrustSECO/_next/static/chunks/20d867a918a78c19a392d2ab3562d7e5efc3a8e7.e3a755023b7ad5b0d7e2.js" async=""></script><script src="/TrustSECO/_next/static/chunks/pages/package/%5Bid%5D-6e5289d6e1b7a09361a1.js" async=""></script><script src="/TrustSECO/_next/static/JWBl7eXXc9chLuNJUzACg/_buildManifest.js" async=""></script><script src="/TrustSECO/_next/static/JWBl7eXXc9chLuNJUzACg/_ssgManifest.js" async=""></script></body></html>