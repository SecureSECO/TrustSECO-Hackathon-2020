<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>TrustSECO</title><link rel="icon" href="/favicon.ico"/><link rel="preload" href="/TrustSECO/_next/static/css/dd46eff8b0fa29b7c6a1.css" as="style"/><link rel="stylesheet" href="/TrustSECO/_next/static/css/dd46eff8b0fa29b7c6a1.css" data-n-g=""/><link rel="preload" href="/TrustSECO/_next/static/css/9e26edf5045646c35bf5.css" as="style"/><link rel="stylesheet" href="/TrustSECO/_next/static/css/9e26edf5045646c35bf5.css" data-n-p=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/TrustSECO/_next/static/chunks/main-06c1dcca274dd3ebd367.js" as="script"/><link rel="preload" href="/TrustSECO/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/TrustSECO/_next/static/chunks/framework.490e6e89fb7343c23de5.js" as="script"/><link rel="preload" href="/TrustSECO/_next/static/chunks/commons.e12371422b04e39d225f.js" as="script"/><link rel="preload" href="/TrustSECO/_next/static/chunks/pages/_app-6332075865a73fbac0f6.js" as="script"/><link rel="preload" href="/TrustSECO/_next/static/chunks/20d867a918a78c19a392d2ab3562d7e5efc3a8e7.a2788434e14b577a5942.js" as="script"/><link rel="preload" href="/TrustSECO/_next/static/chunks/pages/package/%5Bid%5D-7bbdc45fafc792b9b77c.js" as="script"/></head><body><div id="__next"><div class="Home_wrapper__3EDsh"><div class="Home_container__1EcsU"><div class="container"><div class="Home_content__2fqOz row"><a href="/TrustSECO"><h2>TrustSECO</h2></a><div offset="2" class="Home_contentInside__3OhO7 col-md-10 offset-md-1"><main class="Home_main__1x8gC"><div class="row"><div class="col-md-8"><div class="card"><div class="card-header">walk</div><div class="card-body"><div class="card-subtitle h6">A node port of python&#x27;s os.walk</div><p class="card-text">Repository:<!-- --> <a href="https://git.coolaj86.com/coolaj86/fs-walk.js.git">https://git.coolaj86.com/coolaj86/fs-walk.js.git</a></p></div></div><div class="card"><div class="card-header">Package versions</div><div class="card-body"><p class="card-text"><div><p>Version: <!-- -->0.9.0<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->10</p></div><div><p>Version: <!-- -->0.9.1<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->10</p></div><div><p>Version: <!-- -->0.9.2<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->11</p></div><div><p>Version: <!-- -->1.0.0<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->11</p></div><div><p>Version: <!-- -->1.0.1<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->11</p></div><div><p>Version: <!-- -->1.0.2<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->10</p></div><div><p>Version: <!-- -->1.0.4<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->9</p></div><div><p>Version: <!-- -->1.0.5<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->8</p></div><div><p>Version: <!-- -->2.0.0<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->11</p></div><div><p>Version: <!-- -->2.0.1<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->10</p></div><div><p>Version: <!-- -->2.0.2<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->10</p></div><div><p>Version: <!-- -->2.1.0<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->10</p></div><div><p>Version: <!-- -->2.1.1<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->9</p></div><div><p>Version: <!-- -->2.2.1<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->9</p></div><div><p>Version: <!-- -->2.3.1<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->10</p></div><div><p>Version: <!-- -->2.3.2<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->10</p></div><div><p>Version: <!-- -->2.3.3<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->10</p></div><div><p>Version: <!-- -->2.3.4<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->10</p></div><div><p>Version: <!-- -->2.3.9<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->11</p></div><div><p>Version: <!-- -->2.3.10<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->11</p></div><div><p>Version: <!-- -->2.3.12<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->10</p></div><div><p>Version: <!-- -->2.3.13<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->10</p></div><div><p>Version: <!-- -->2.3.14<br/><span> <!-- -->  </span> trustscore:<!-- --> <!-- -->22</p></div></p></div></div></div><div class="col-md-4"><div class="card"><div class="card-body"><a href="https://secureseco.github.io/Votingsystem#/">Vote score</a></div> </div><div class="card"><div class="card-header">TrustScore <strong>22</strong></div><div class="card-body"><p class="card-text"><strong>Sourcerank:</strong><div>basic_info_present:<!-- --> <!-- -->1</div><div>repository_present:<!-- --> <!-- -->1</div><div>readme_present:<!-- --> <!-- -->1</div><div>license_present:<!-- --> <!-- -->1</div><div>versions_present:<!-- --> <!-- -->1</div><div>follows_semver:<!-- --> <!-- -->1</div><div>recent_release:<!-- --> <!-- -->0</div><div>not_brand_new:<!-- --> <!-- -->1</div><div>one_point_oh:<!-- --> <!-- -->1</div><div>dependent_projects:<!-- --> <!-- -->6</div><div>dependent_repositories:<!-- --> <!-- -->4</div><div>stars: <!-- -->3</div><div>contributors:<!-- --> <!-- -->1</div><div>subscribers:<!-- --> <!-- -->1</div><div>all_prereleases:<!-- --> <!-- -->0</div><div>any_outdated_dependencies:<!-- --> <!-- -->-1</div><div>is_deprecated:<!-- --> <!-- -->0</div><div>is_unmaintained:<!-- --> <!-- -->0</div><div>is_removed: <!-- -->0</div></p></div></div></div></div><div class="row"><div class="col-md-12"></div></div></main></div></div></div></div><footer class="footer_footer__1tNtI"><div class="footer_footer-content__2FMz9"><div class="col-md-3"><div class="footer_footer-slogan__ppYfy"><h4>TrustSECO 2020</h4><p>A project by <a href="https://secureseco.org">SecureSECO</a></p></div></div><div class="col-md-3"><h4>Links</h4><ul><li><a href="https://github.com/SecureSECO/TrustSECO">Github</a></li><li><a href="https://twitter.com/SecoTrust">Twitter</a></li><li><a href="https://www.linkedin.com/company/trustseco">LinkeIn</a></li></ul></div><div class="col-md-3"></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"_id":"5fb669969f9e7f16fd324add","id":"walk","crawlTimestamp":"19/11/2020 12:48:21","packageName":"walk","description":"A node port of python's os.walk","repository":{"url":"https://git.coolaj86.com/coolaj86/fs-walk.js.git"},"readme":"node-walk\n====\n\n| Sponsored by [ppl](https://ppl.family)\n\nnodejs walk implementation.\n\nThis is somewhat of a port python's `os.walk`, but using Node.JS conventions.\n\n  * EventEmitter\n  * Asynchronous\n  * Chronological (optionally)\n  * Built-in flow-control\n  * includes Synchronous version (same API as Asynchronous)\n\nAs few file descriptors are opened at a time as possible.\nThis is particularly well suited for single hard disks which are not flash or solid state.\n\nInstallation\n----\n\n```bash\nnpm install --save walk\n```\n\nGetting Started\n====\n\n```javascript\n(function () {\n  \"use strict\";\n\n  var walk = require('walk');\n  var fs = require('fs');\n  var walker;\n\n  walker = walk.walk(\"/tmp\", options);\n\n  walker.on(\"file\", function (root, fileStats, next) {\n    fs.readFile(fileStats.name, function () {\n      // doStuff\n      next();\n    });\n  });\n\n  walker.on(\"errors\", function (root, nodeStatsArray, next) {\n    next();\n  });\n\n  walker.on(\"end\", function () {\n    console.log(\"all done\");\n  });\n}());\n```\n\nCommon Events\n-----\n\nAll single event callbacks are in the form of `function (root, stat, next) {}`.\n\nAll multiple event callbacks callbacks are in the form of `function (root, stats, next) {}`, except **names** which is an array of strings.\n\nAll **error** event callbacks are in the form `function (root, stat/stats, next) {}`.\n**`stat.error`** contains the error.\n\n* `names`\n* `directory`\n* `directories`\n* `file`\n* `files`\n* `end`\n* `nodeError` (`stat` failed)\n* `directoryError` (`stat` succedded, but `readdir` failed)\n* `errors` (a collection of any errors encountered)\n\n\nA typical `stat` event looks like this:\n\n```javascript\n{ dev: 16777223,\n  mode: 33188,\n  nlink: 1,\n  uid: 501,\n  gid: 20,\n  rdev: 0,\n  blksize: 4096,\n  ino: 49868100,\n  size: 5617,\n  blocks: 16,\n  atime: Mon Jan 05 2015 18:18:10 GMT-0700 (MST),\n  mtime: Thu Sep 25 2014 21:21:28 GMT-0600 (MDT),\n  ctime: Thu Sep 25 2014 21:21:28 GMT-0600 (MDT),\n  birthtime: Thu Sep 25 2014 21:21:28 GMT-0600 (MDT),\n  name: 'README.md',\n  type: 'file' }\n```\n\nAdvanced Example\n====\n\nBoth Asynchronous and Synchronous versions are provided.\n\n```javascript\n(function () {\n  \"use strict\";\n\n  var walk = require('walk');\n  var fs = require('fs');\n  var options;\n  var walker;\n\n  options = {\n    followLinks: false\n    // directories with these keys will be skipped\n  , filters: [\"Temp\", \"_Temp\"]\n  };\n\n  walker = walk.walk(\"/tmp\", options);\n\n  // OR\n  // walker = walk.walkSync(\"/tmp\", options);\n\n  walker.on(\"names\", function (root, nodeNamesArray) {\n    nodeNamesArray.sort(function (a, b) {\n      if (a \u003e b) return 1;\n      if (a \u003c b) return -1;\n      return 0;\n    });\n  });\n\n  walker.on(\"directories\", function (root, dirStatsArray, next) {\n    // dirStatsArray is an array of `stat` objects with the additional attributes\n    // * type\n    // * error\n    // * name\n\n    next();\n  });\n\n  walker.on(\"file\", function (root, fileStats, next) {\n    fs.readFile(fileStats.name, function () {\n      // doStuff\n      next();\n    });\n  });\n\n  walker.on(\"errors\", function (root, nodeStatsArray, next) {\n    next();\n  });\n\n  walker.on(\"end\", function () {\n    console.log(\"all done\");\n  });\n}());\n```\n\n### Sync\n\nNote: You **can't use EventEmitter** if you want truly synchronous walker\n(although it's synchronous under the hood, it appears not to be due to the use of `process.nextTick()`).\n\nInstead **you must use `options.listeners`** for truly synchronous walker.\n\nAlthough the sync version uses all of the `fs.readSync`, `fs.readdirSync`, and other sync methods,\nI don't think I can prevent the `process.nextTick()` that `EventEmitter` calls.\n\n```javascript\n(function () {\n  \"use strict\";\n\n  var walk = require('walk');\n  var fs = require('fs');\n  var options;\n  var walker;\n\n  // To be truly synchronous in the emitter and maintain a compatible api,\n  // the listeners must be listed before the object is created\n  options = {\n    listeners: {\n      names: function (root, nodeNamesArray) {\n        nodeNamesArray.sort(function (a, b) {\n          if (a \u003e b) return 1;\n          if (a \u003c b) return -1;\n          return 0;\n        });\n      }\n    , directories: function (root, dirStatsArray, next) {\n        // dirStatsArray is an array of `stat` objects with the additional attributes\n        // * type\n        // * error\n        // * name\n\n        next();\n      }\n    , file: function (root, fileStats, next) {\n        fs.readFile(fileStats.name, function () {\n          // doStuff\n          next();\n        });\n      }\n    , errors: function (root, nodeStatsArray, next) {\n        next();\n      }\n    }\n  };\n\n  walker = walk.walkSync(\"/tmp\", options);\n\n  console.log(\"all done\");\n}());\n```\n\nAPI\n====\n\nEmitted Values\n\n  * `on('XYZ', function(root, stats, next) {})`\n\n  * `root` - the containing the files to be inspected\n  * *stats[Array]* - a single `stats` object or an array with some added attributes\n    * type - 'file', 'directory', etc\n    * error\n    * name - the name of the file, dir, etc\n  * next - no more files will be read until this is called\n\nSingle Events - fired immediately\n\n  * `end` - No files, dirs, etc left to inspect\n\n  * `directoryError` - Error when `fstat` succeeded, but reading path failed (Probably due to permissions).\n  * `nodeError` - Error `fstat` did not succeeded.\n  * `node` - a `stats` object for a node of any type\n  * `file` - includes links when `followLinks` is `true`\n  * `directory` - **NOTE** you could get a recursive loop if `followLinks` and a directory links to its parent\n  * `symbolicLink` - always empty when `followLinks` is `true`\n  * `blockDevice`\n  * `characterDevice`\n  * `FIFO`\n  * `socket`\n\nEvents with Array Arguments - fired after all files in the dir have been `stat`ed\n\n  * `names` - before any `stat` takes place. Useful for sorting and filtering.\n    * Note: the array is an array of `string`s, not `stat` objects\n    * Note: the `next` argument is a `noop`\n\n  * `errors` - errors encountered by `fs.stat` when reading ndes in a directory\n  * `nodes` - an array of `stats` of any type\n  * `files`\n  * `directories` - modification of this array - sorting, removing, etc - affects traversal\n  * `symbolicLinks`\n  * `blockDevices`\n  * `characterDevices`\n  * `FIFOs`\n  * `sockets`\n\n**Warning** beware of infinite loops when `followLinks` is true (using `walk-recurse` varient).\n\nComparisons\n====\n\nTested on my `/System` containing 59,490 (+ self) directories (and lots of files).\nThe size of the text output was 6mb.\n\n`find`:\n    time bash -c \"find /System -type d | wc\"\n    59491   97935 6262916\n\n    real  2m27.114s\n    user  0m1.193s\n    sys 0m14.859s\n\n`find.js`:\n\nNote that `find.js` omits the start directory\n\n    time bash -c \"node examples/find.js /System -type d | wc\"\n    59490   97934 6262908\n\n    # Test 1\n    real  2m52.273s\n    user  0m20.374s\n    sys 0m27.800s\n\n    # Test 2\n    real  2m23.725s\n    user  0m18.019s\n    sys 0m23.202s\n\n    # Test 3\n    real  2m50.077s\n    user  0m17.661s\n    sys 0m24.008s\n\nIn conclusion node.js asynchronous walk is much slower than regular \"find\".\n\nLICENSE\n===\n\n`node-walk` is available under the following licenses:\n\n  * MIT\n  * Apache 2\n\nCopyright 2011 - Present AJ ONeal\n","homepage":"https://git.coolaj86.com/coolaj86/fs-walk.js","trustScore":22,"sourceRank":{"basic_info_present":1,"repository_present":1,"readme_present":1,"license_present":1,"versions_present":1,"follows_semver":1,"recent_release":0,"not_brand_new":1,"one_point_oh":1,"dependent_projects":6,"dependent_repositories":4,"stars":3,"contributors":1,"subscribers":1,"all_prereleases":0,"any_outdated_dependencies":-1,"is_deprecated":0,"is_unmaintained":0,"is_removed":0,"trustScore":22},"versions":[{"versionNumber":"0.9.0","timestamp":"2011-02-04T07:18:26.591Z","trustScore":10,"dependencies":[{"packageName":"futures","version":"*"}]},{"versionNumber":"0.9.1","timestamp":"2011-02-04T07:18:26.591Z","trustScore":10,"dependencies":[{"packageName":"futures","version":"*"}]},{"versionNumber":"0.9.2","timestamp":"2011-02-04T07:18:26.591Z","trustScore":11,"dependencies":[{"packageName":"futures","version":"*"}]},{"versionNumber":"1.0.0","timestamp":"2011-02-04T07:18:26.591Z","trustScore":11,"dependencies":[]},{"versionNumber":"1.0.1","timestamp":"2011-02-04T07:18:26.591Z","trustScore":11,"dependencies":[]},{"versionNumber":"1.0.2","timestamp":"2011-02-04T07:26:21.031Z","trustScore":10,"dependencies":[{"packageName":"futures","version":"*"}]},{"versionNumber":"1.0.4","timestamp":"2011-02-04T07:28:53.801Z","trustScore":9,"dependencies":[{"packageName":"futures","version":"\u003e= 1.9.2"}]},{"versionNumber":"1.0.5","timestamp":"2011-02-04T07:56:26.101Z","trustScore":8,"dependencies":[{"packageName":"futures","version":"\u003e= 1.9.2"}]},{"versionNumber":"2.0.0","timestamp":"2011-05-03T22:39:55.308Z","trustScore":11,"dependencies":[{"packageName":"futures","version":"\u003e= 1.9.2"}]},{"versionNumber":"2.0.1","timestamp":"2011-07-28T13:46:22.912Z","trustScore":10,"dependencies":[{"packageName":"Array.prototype.forEachAsync","version":"\u003e= 2.1.0"}]},{"versionNumber":"2.0.2","timestamp":"2011-11-01T22:03:17.875Z","trustScore":10,"dependencies":[{"packageName":"forEachAsync","version":"\u003e= 2.1.0"}]},{"versionNumber":"2.1.0","timestamp":"2012-01-16T02:22:21.338Z","trustScore":10,"dependencies":[{"packageName":"forEachAsync","version":"\u003e= 2.1.0"}]},{"versionNumber":"2.1.1","timestamp":"2012-01-22T23:07:11.092Z","trustScore":9,"dependencies":[{"packageName":"forEachAsync","version":"\u003e= 2.1.0"}]},{"versionNumber":"2.2.1","timestamp":"2012-06-06T19:31:48.065Z","trustScore":9,"dependencies":[{"packageName":"forEachAsync","version":"~2.2"}]},{"versionNumber":"2.3.1","timestamp":"2014-01-27T01:49:26.065Z","trustScore":10,"dependencies":[{"packageName":"forEachAsync","version":"~2.2"}]},{"versionNumber":"2.3.2","timestamp":"2014-05-20T23:11:34.873Z","trustScore":10,"dependencies":[{"packageName":"foreachasync","version":"3.x"}]},{"versionNumber":"2.3.3","timestamp":"2014-05-20T23:20:48.236Z","trustScore":10,"dependencies":[{"packageName":"foreachasync","version":"3.x"}]},{"versionNumber":"2.3.4","timestamp":"2014-09-26T03:21:44.877Z","trustScore":10,"dependencies":[{"packageName":"foreachasync","version":"3.x"}]},{"versionNumber":"2.3.9","timestamp":"2015-01-06T02:15:28.207Z","trustScore":11,"dependencies":[{"packageName":"foreachasync","version":"^3.0.0"}]},{"versionNumber":"2.3.10","timestamp":"2018-03-26T02:16:11.223Z","trustScore":11,"dependencies":[{"packageName":"foreachasync","version":"^3.0.0"}]},{"versionNumber":"2.3.12","timestamp":"2018-03-26T05:25:13.685Z","trustScore":10,"dependencies":[{"packageName":"foreachasync","version":"^3.0.0"}]},{"versionNumber":"2.3.13","timestamp":"2018-03-26T05:28:12.387Z","trustScore":10,"dependencies":[{"packageName":"foreachasync","version":"^3.0.0"}]},{"versionNumber":"2.3.14","timestamp":"2018-07-03T02:48:26.164Z","trustScore":22,"dependencies":[{"packageName":"foreachasync","version":"^3.0.0"}]}]}},"__N_SSG":true},"page":"/package/[id]","query":{"id":"walk"},"buildId":"5Qj9kTtC1PVkqz7jIrgJ7","assetPrefix":"/TrustSECO","nextExport":false,"isFallback":false,"gsp":true,"head":[["meta",{"name":"viewport","content":"width=device-width"}],["meta",{"charSet":"utf-8"}],["title",{"children":"TrustSECO"}],["link",{"rel":"icon","href":"/favicon.ico"}]]}</script><script nomodule="" src="/TrustSECO/_next/static/chunks/polyfills-11c8eba6a84e3fddec04.js"></script><script src="/TrustSECO/_next/static/chunks/main-06c1dcca274dd3ebd367.js" async=""></script><script src="/TrustSECO/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/TrustSECO/_next/static/chunks/framework.490e6e89fb7343c23de5.js" async=""></script><script src="/TrustSECO/_next/static/chunks/commons.e12371422b04e39d225f.js" async=""></script><script src="/TrustSECO/_next/static/chunks/pages/_app-6332075865a73fbac0f6.js" async=""></script><script src="/TrustSECO/_next/static/chunks/20d867a918a78c19a392d2ab3562d7e5efc3a8e7.a2788434e14b577a5942.js" async=""></script><script src="/TrustSECO/_next/static/chunks/pages/package/%5Bid%5D-7bbdc45fafc792b9b77c.js" async=""></script><script src="/TrustSECO/_next/static/5Qj9kTtC1PVkqz7jIrgJ7/_buildManifest.js" async=""></script><script src="/TrustSECO/_next/static/5Qj9kTtC1PVkqz7jIrgJ7/_ssgManifest.js" async=""></script></body></html>